\section{Modular forms}

\label{Modular forms}
Modular forms are special complex-valued functions that have several important properties. They are defined on the upper half-plane and they have a transformation behavior under the modular group (a group of linear fractional transformations that preserve the upper half-plane). This transformation behavior allows modular forms to encode information about the geometry and topology of modular curves, which are essential objects in number theory. Modular forms are used in many areas of mathematics, including number theory, algebraic geometry, and representation theory. They have applications in physics, including string theory and conformal field theory.

In this chapter, we aim to introduce and discuss some results about two central objects, namely \textbf{Modular forms} and \textbf{Modular curve}. As discussed in the introduction, the statement that ultimately led to proving Fermat's last theorem is 
\begin{center}
    \textbf{All semistable elliptic curves are modular}.
\end{center}\\

We will try to make this precise and understand what it actually means.  We will closely follow the book \cite{diamond2005first}, lecture notes from Marc Masdeu \cite{Masdeu2015ModularForms} and \cite{visser_computing_2023}. We will sometimes closely follow proofs from either of these sources for the sake of completeness. At times the ideas of the proofs are not original but inspired and even closely followed at times.  Although, in some places, I have expanded on my own giving more details. Besides these references, there are many good references on modular forms for example, 
\cite{Lang1995},\cite{miyake2006modular} . 

\subsection{Basic defintions}


\begin{defi}[Modular group]

The modular group is the group of 2-by-2 matrices with integer entries and determinant 1. The Modular group in set form is 
$$
\mathrm{SL}_{2}(\mathbb{Z})=\left\{\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right]: a, b, c, d \in \mathbb{Z}, a d-b c=1\right\} .
$$
\end{defi}

\begin{proposition}
The modular group is generated by the two matrices
$$
\left[\begin{array}{ll}
1 & 1 \\
0 & 1
\end{array}\right] \quad \text { and } \quad\left[\begin{array}{rr}
0 & -1 \\
1 & 0
\end{array}\right].
$$

\end{proposition}
Let $\mathcal{H}$ denote the Poincare upper half plane which as a set is given by
$$
\mathcal{H}=\{\tau \in \mathbb{C}: \operatorname{Im}(\tau)>0\}
$$
Each element of the modular group is also viewed as an automorphism of the Riemann sphere $\widehat{\mathbb{C}}=\mathbb{C} \cup\{\infty\}$, the fractional linear transformation
$$
\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right](\tau)=\frac{a \tau+b}{c \tau+d}, \quad \tau \in \widehat{\mathbb{C}}.
$$ For $\gamma= \left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right]  \in \mathrm{SL}_{2}(\mathbb{Z}) $, we denote by $\gamma(\tau)$ a fractional transformation on $\widehat{\mathbb{C}}$ given by, $\gamma(\tau)=\frac{a \tau+b}{c \tau+d}, \quad \tau \in \widehat{\mathbb{C}}.$ 
\begin{remark}
 $\bullet$ Here we understand that if $c \neq 0$ then $-d / c$ maps to $\infty$ and $\infty$ maps to $a / c$, and if $c=0$ then $\infty$ maps to $\infty$. \\
$\bullet$
The identity matrix $I$ and its negative $-I$ both give the identity transformation as for $\tau \in \widehat{\mathbb{C}}$ we have ,
$$
\left[\begin{array}{ll}
1 & 0 \\
0 & 1
\end{array}\right](\tau)=\frac{1 \tau+0}{0 \tau+1}=\tau
$$ and 
$$
\left[\begin{array}{ll}
-1&    0 \\
 0&-1
\end{array}\right](\tau)=\frac{-1 \tau+0}{0 \tau+1}=\tau.
$$ \\
$\bullet$
In  general each pair $\pm \gamma$ of matrices in $\mathrm{SL}_{2}(\mathbb{Z})$ gives a single transformation, since for $\tau \in \widehat{\mathbb{C}}$, we have that, 
$$
\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right](\tau)=\frac{a \tau+b}{c \tau+d} 
$$,
$$
\left[\begin{array}{ll}
-a & -b \\
-c & -d
\end{array}\right](\tau)=\frac{-a \tau -b}{-c \tau -d}=\frac{a \tau+b}{c \tau+d} 
$$
$\bullet$
The group of transformations defined by the modular group is generated by the maps described by the two matrix generators, namely for transformations given by,  
$$
\tau \mapsto \tau+1 \quad \text { and } \quad \tau \mapsto-1 / \tau.
$$
It can be 

\end{remark}

\begin{proposition}
If $\gamma \in \mathrm{SL}_{2}(\mathbf{Z})$ and $\tau \in \mathcal{H}$ then also $\gamma(\tau) \in \mathcal{H}$. In other words, the modular group maps the upper half plane to itself.

\begin{proof}
Let $\gamma = \left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \in \mathrm{SL}_{2}(\mathbf{Z})$ be arbitrary. From above we have, $\gamma(\tau)= \frac{a \tau+b}{c \tau+d}$. Now, multiplying and dividing by complex conjugate of $c\tau+d$ we get that, $$\gamma(\tau)= \frac{(a \tau+b)(c\overline{\tau}+d)}{\mid{c \tau+d}\mid^2}.$$
Thus we have, 
$$\gamma(\tau)= \frac{ad\tau+bc\overline{\tau}}{\mid{c\tau+d}\mid^2}+ \frac{ac\tau\overline{\tau}+bd}{\mid{c \tau+d}\mid^2}. $$
From this expression, it is clear that Im($\gamma(\tau))=(ad-bc)$Im$(\tau).$ 
The claim follows since, $\gamma \in \mathrm{SL_2(\mathbb{{Z})}}.$
\end{proof}
\end{proposition}

\subsection{Weakly Modular Functions and Modular Forms}
Let us now move ahead toward introducing one of the key objects to understand the proof of Fermat's last theorem, namely Modular forms. We will first introduce weakly modular functions and then special kinds of weakly modular functions, namely Modular forms, which will be the central object of study from this point onward. 

\begin{definition}[Weakly modular functions]\label{WKMF}
     Let $k$ be an integer. A meromorphic function $f: \mathcal{H} \longrightarrow \mathbb{C}$ is weakly modular of weight $k$ if

\begin{equation}\label{MC}
f(\gamma(\tau))=(c \tau+d)^{k} f(\tau) \quad \text { for } \gamma=\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \in \mathrm{SL}_{2}(\mathbb{Z}) \text { and } \tau \in \mathcal{H}.    
\end{equation}
    
\end{definition}


\begin{remark}
1. We will soon establish a key lemma which states that if a function $f$ satisfies the weak modularity condition \ref{MC} stated in \ref{WKMF} when we substitute $\gamma$ as $\left[\begin{array}{ll}1 & 1 \\ 0 & 1\end{array}\right]$ and $\left[\begin{array}{rr}0 & -1 \\ 1 & 0\end{array}\right]$, then the function $f$ satisfies the weak modularity condition \ref{MC} for all $\gamma \in \mathrm{SL}_{2}(\mathbb{Z})$. \\
2. This reduces our work immensely to check the weak modularity condition for all the matrices in the modular group to check it only on two matrices. \\
\\
Observe that for $T= \left[\begin{array}{ll}1 & 1 \\ 0 & 1\end{array}\right]$, we have $T(\tau)=\tau+1$ and for $S=\left[\begin{array}{rr}0 & -1 \\ 1 & 0\end{array}\right]$ we have $S(\tau)=\frac{-1}{\tau}$
 
\bigskip 
 In other words, we get an alternative definition for a weakly modular function:  A meromorphic function $f: \mathcal{H} \longrightarrow \mathbb{C}$ is weakly modular of weight $k$ if

$$
f(\tau+1)=f(\tau) \quad \text { and } \quad f(-1 / \tau)=\tau^{k} f(\tau).
$$
\end{remark}

\begin{definition}[\textbf{Modular forms}]\label{MODFRM}
    Let $k$ be an integer. A function $f: \mathcal{H} \longrightarrow \mathbf{C}$ is a modular form of weight $k$ if

(1) $f$ is holomorphic on $\mathcal{H}$,

(2) $f$ is weakly modular of weight $k$,

(3) $f$ is holomorphic at $\infty$.

\end{definition}

\begin{remark}[$q$-expansions and holomorphicity at $\infty$]
Let us make the notion (3) in the definition \ref{MODFRM} precise. We begin by noting that modular form for $\mathrm{SL}_{2}(\mathbb{Z})$ satisfies $f(\tau+1)=f(\tau)$. Thus $f$ is always periodic with period 1. We can therefore describe $f$ in terms of a new variable $q:=e^{2 \pi i \tau}$. This is how we get a so-called $q$-expansion. \\
We define $\Tilde{f}: D^{\prime} \longrightarrow \mathbb{C}$ $\tilde{f}(q)=f(\log (q) /(2 \pi i))$.  

Well-definedness is clear due to $\Z$-periodicity of $f$ and the fact that $\operatorname{log}$ is well-defined up to $2 \pi i \Z$. Moreover, we have that $\tilde{f}(q)=f(\tau)$. This is also well-defined.
Let $q=e^{2 \pi i \tau}$ and $q^{\prime}=e^{2 \pi i \tau'}$. 
Then,
$$
\begin{array}{rllll}
q=q^{\prime} & \Longrightarrow \quad e^{2 \pi i \tau}=e^{2 \pi i \tau'} & \Longrightarrow \quad \tau=\tau^{\prime}+n \quad \text { for some } n \in \mathbb{Z} \\
& \Longrightarrow f(\tau)=f\left(\tau^{\prime}+n\right) & \Longrightarrow f(\tau)=f\left(\tau^{\prime}\right) \text { (by periodicity) } \\
& \Longrightarrow \tilde{f}(q)=\tilde{f}\left(q^{\prime}\right) & &
\end{array}
$$

Furthermore we note that, if $\tau=x+i y \in \mathcal{H}$, then
$
|q|=|e^{2 \pi i \tau}|=|e^{2 \pi i \tau x}||e^{-2 \pi y}|=|e^{-2 \pi y}| \leq 1.
$
The last inequality follows since $y>0$. Thus, the change of variables sends the upper half plane $\mathcal{H}$, to the punctured open unit disc $D^{\prime}=\{q \in \mathbb{C} \mid 0<| q \mid<1\}$. \\
If $f$ is holomorphic on the upper half plane then the composition $\Tilde{f}$ is holomorphic on the punctured disk. Since the logarithm can be defined holomorphically about each point, $\tilde{f}$ has a Laurent expansion $\tilde{f}(q)=\sum_{n \in \mathbf{Z}} a_{n} q^{n}$ for $q \in D^{\prime}$.\\
We also note that as $\operatorname{Im}(\tau) \rightarrow \infty$, we have $q \rightarrow 0$. Hence the condition that $f(\tau)$ is bounded as $\operatorname{Im}(\tau) \rightarrow \infty$ implies that $\tilde{f}(q)$ is bounded as $q \rightarrow 0$. Therefore, by the Riemann Removable Singularity Theorem, we have that $\lim\limits_{q \to 0} \tilde{f}(q)$ exists and furthermore, that the extension of $\tilde{f}$ to the point $q=0$ defined by $\tilde{f}(0):=\lim\limits_{q \to 0} \tilde{f}(q)$ is analytic on the unit disc $D=\{q \in \mathbb{C}\mid 0 \leq| q \mid<1\}$. In other words, this means that we can think of $\infty$ as lying far in the imaginary direction, and one can define $f$ to be holomorphic at $\infty$ if $\Tilde{f}$ extends holomorphically to the puncture point $q=0$, $\ie$, the Laurent series sums over $n \in \mathbb{N}$.

Therefore, $f$ has a Fourier expansion, given as

$$
f(\tau)=\tilde{f}(q)=\sum_{n=0}^{\infty} a_{n}(f) q^{n}, \quad \text { where } q=e^{2 \pi i \tau}.
$$

 Also, to show that a weakly modular holomorphic function $f: \mathcal{H} \longrightarrow \mathbb{C}$ is holomorphic at $\infty$ one doesn't need to compute its Fourier expansion and one can simply show either $\lim _{\operatorname{Im}(\tau) \rightarrow \infty} f(\tau)$ exists or even $f(\tau)$ is bounded as $\operatorname{Im}(\tau) \rightarrow \infty$ since $q \rightarrow 0$ if and only if $\operatorname{Im}(\tau) \rightarrow \infty$.
\end{remark}

\begin{definition}
The set of modular forms of weight $k$ is denoted $\mathcal{M}_{k}\left(\mathrm{SL}_{2}(\mathbb{Z})\right)$.
\end{definition}


\begin{proposition}
    $\mathcal{M}_{k}\left(\mathrm{SL}_{2}(\mathbb{Z})\right)$ forms a vector space over $\mathbb{C}$.
    \begin{proof}
         Let $f, g \in \mathcal{M}_{k}\left(\mathrm{SL}_{2}(\mathbb{Z})\right)$, then by linearity of the weak modularity condition, we have $\alpha f+\beta g$ is weakly modular of weight $k$. The holomorphy condition on $\mathcal{H}$ and at $\infty$ is clear. Thus we have $\alpha f+\beta g\in \mathcal{M}_{k}\left(\mathrm{SL}_{2}(\mathbb{Z})\right)$ for any $\alpha, \beta \in \mathbb{C}$.  Thus, $\mathcal{M}_{k}\left(\mathrm{SL}_{2}(\mathbb{Z})\right)$ forms a vector space over $\mathbb{C}$.
    \end{proof}
\end{proposition}

\begin{lemma}
Let $f_{1}$ be a modular form of weight $k$ for $\mathrm{SL}_{2}(\mathbb{Z})$ and let $f_{2}$ be a modular form of weight $k_{2}$ for $\mathrm{SL}_{2}(\mathbb{Z})$. Then $f_{1} f_{2}$ is a modular form of weight $k_{1}+k_{2}$ for $\mathrm{SL}_{2}(\mathbb{Z})$.
\begin{proof}
    We note that the product $f_{1} f_{2}$ is clearly holomorphic on $\mathcal{H}$ and that $f_{1} f_{2}(\tau)$ is bounded as $\operatorname{Im}(\tau) \rightarrow \infty$. Thus, all that remains is to prove the weak modularity condition (\ref{MC}). \\ Let $\gamma=\left[\begin{array}{ll}a & b \\ c & d\end{array}\right] \in$ $\mathrm{SL}_{2}(\mathbb{Z})$. \\ We end the proof by finally noting that $$f_{1} f_{2}(\tau)=f_{1}(\tau) f_{2}(\tau)=(c \tau+d)^{k_{1}} f_{1}(\tau)(c \tau+d)^{k_{2}} f_{2}(\tau)=(c \tau+d)^{k_{1}+k_{2}} f_{1} f_{2}(\tau)
$$

\end{proof}
\end{lemma}
In particular $$
\mathcal{M}\left(\mathrm{SL}_{2}(\mathbf{Z})\right)=\bigoplus_{k \in \mathbf{Z}} \mathcal{M}_{k}\left(\mathrm{SL}_{2}(\mathbf{Z})\right)
$$

forms a graded ring.  
\begin{proposition}\label{2.2.7}
     Let $f$ be a complex-valued function that is holomorphic on $\mathcal{H}$ and is bounded as $\operatorname{Im}(\tau) \rightarrow \infty$. Then $f$ is a modular form of weight $k$ for $\mathrm{SL}_{2}(\mathbb{Z})$ if and only if it satisfies the following equations

\begin{equation}\label{A}
f(\tau+1)=f(\tau) \quad \text { and } \quad f\left(\frac{-1}{\tau}\right)=\tau^{k} f(\tau)    
\end{equation}


\begin{proof}
    We first note that substituting $T$ and $S$ into the modularity condition yields the two equations respectively given in \ref{A}. Thus, if $f$ is a modular form, then $f$ satisfies \ref{A}.

Conversely, assume $f$ satisfies both equations given in \ref{A}.

It remains to show that if the weak modularity condition  \ref{MC} is satisfied for some two matrices $\gamma_{1}, \gamma_{2} \in \mathrm{SL}_{2}(\mathbb{Z})$, then it is satisfied for $\gamma_{1} \gamma_{2}$ and for $\gamma_{1}^{-1}$.

Let $\gamma_{1}=\left[\begin{array}{ll}a_{1} & b_{1} \\ c_{1} & d_{1}\end{array}\right] \in \mathrm{SL}_{2}(\mathbb{Z})$ and $\gamma_{2}=\left[\begin{array}{ll}a_{2} & b_{2} \\ c_{2} & d_{2}\end{array}\right] \in \mathrm{SL}_{2}(\mathbb{Z})$. \\Note that $\gamma_{1}^{-1}=\left[\begin{array}{cc}d_{1} & -b_{1} \\ -c_{1} & a_{1}\end{array}\right]$, as $\operatorname{det}\left(\gamma_{1}\right)=1$. 
\bigskip
We thus have,

$$
\begin{aligned}
f\left(\gamma_{1} \gamma_{2} \tau\right) & =\left(c_{1}\left(\gamma_{2} \tau\right)+d_{1}\right)^{k} f\left(\gamma_{2} \tau\right) \\
& =\left(c_{1}\left(\frac{a_{2} \tau+b_{2}}{c_{2} \tau+d_{2}}\right)+d_{1}\right)^{k}\left(c_{2} \tau+d_{2}\right)^{k} f(\tau) \\
& =\left(c_{1}\left(a_{2} \tau+b_{2}\right)+d_{1}\left(c_{2} \tau+d_{2}\right)\right)^{k} f(\tau) \\
& =\left(\left(c_{1} a_{2}+d_{1} c_{2}\right) \tau+c_{1} b_{2}+d_{1} d_{2}\right)^{k} f(\tau)
\end{aligned}
$$

It is clear that since $\gamma_{1} \gamma_{2}= \left[\begin{array}{ll}a_{1}a_{2}+b_{1}c_{2} & a_{1}b_{2}+b_{1}d_{2} \\ c_{1}a_{2}+d_{1}c_{2} & 
c_{1}b_{2}+d_{1}d_{2}\end{array}\right]$, the weak modularity condition (\ref{MC}) is satisfied for $\gamma_{1} \gamma_{2}$. 

\\ Similarly checking $\gamma_{1}^{-1}$, we note

$$
\begin{aligned}
f\left(\gamma_{1}\left(\gamma_{1}^{-1} \tau\right)\right) & =\left(c_{1}\left(\gamma_{1}^{-1} \tau\right)+d_{1}\right)^{k} f\left(\gamma_{1}^{-1} \tau\right) \\
\Rightarrow \quad f(\tau) & =\left(c_{1}\left(\frac{d_{1} \tau-b_{1}}{-c_{1} \tau+a_{1}}\right)+d_{1}\right)^{k} f\left(\gamma_{1}^{-1} \tau\right) \\
\Longrightarrow \quad\left(-c_{1} \tau+a_{1}\right)^{k} f(\tau) & =\left(c_{1}\left(d_{1} \tau-b_{1}\right)+d_{1}\left(-c_{1} \tau+a_{1}\right)\right)^{k} f\left(\gamma_{1}^{-1} \tau\right) \\
\Longrightarrow \quad\left(-c_{1} \tau+a_{1}\right)^{k} f(\tau) & =\left(a_{1} d_{1}-b_{1} c_{1}\right)^{k} f\left(\gamma_{1}^{-1} \tau\right)
\end{aligned}
$$

As $a_{1} d_{1}-b_{1} c_{1}=\text{det}(\gamma_{1})=1$ is one, we obtain: $f\left(\gamma_{1}^{-1} \tau\right)=\left(-c_{1} \tau+a_{1}\right)^{k} f(\tau)$ which proves that the weak modularity condition is satisfied for $\gamma_{1}^{-1}$.

\end{proof}
\end{proposition}

Next, the modular forms with constant term 0 in their Fourier expansions are of great importance. This leads to studying cusp forms.
\begin{definition}
  A cusp form of weight $k$ is a modular form of weight $k$ whose fourier expansion has leading coefficient $a_{0}=0$, i.e.,

$$
f(\tau)=\sum_{n=1}^{\infty} a_{n} q^{n}, \quad q=e^{2 \pi i \tau}
$$
  \end{definition}
\subsection{Examples}
Let us now look at particular cases of weak modular functions of weight \textbf{$k$}. 
\begin{itemize}
    \item \textbf{Weight 0}: 
    For $k=0$, weak modularity condition reduces to $
f(\gamma(\tau))=(c \tau+d)^{0} f(\tau) \quad \text { for } \gamma \in \mathrm{SL}_{2}(\mathbb{Z}) \text { and } \tau \in \mathcal{H}.
$ That is for all $\gamma \in \mathrm{SL}_{2}(\mathbb{Z}) \text { and } \tau \in \mathcal{H}$, 
$ f(\gamma(\tau))= f(\tau)$ . This means that weight 0 weakly modular functions are $\mathrm{SL}_{2}(\mathbb{Z})$-invariant.  
\item \textbf{Weight} $\bm{k}$ when $\bm{k}$ is \textbf{odd}: Let $f$ be a weakly modular function. We observe that $-I=\left[\begin{array}{rr}-1 & 0 \\ 0 & -1\end{array}\right] \in \mathrm{SL_2}(\mathbb{Z})$. Now, substituting $\gamma=-I$ in weak modularity condition (\ref{WKMF}) we get that, $f(\frac{-\tau}{-1})=(-1)^k f(\tau)$.
Thus we have that $f(\tau)=(-1)^k f(\tau)$. Since $k$ is odd, $f$ is an identically zero function. In other words, the zero function is the only weakly modular function of weight $k$ when $k$ is odd. 
\item The zero function is a modular form of every weight,
\item Constant functions are modular forms of weight 0. 

\end{itemize}

Note that, a good reason to consider working with weakly modular functions is that even though we don't necessarily have weakly modular functions fully $\mathrm{SL}_{2}(\mathbb{Z})$-invariant, we have that $f(\tau)$ and $f(\gamma(\tau))$ always have the same zeros and poles since the factor $c \tau+d$ doesn't have any on $\mathcal{H}$. 



For a more non-trivial example, we consider the Eisenstein series with respect to a lattice $\Lambda$ and as we have seen, a lattice $\Lambda$ has a basis generated by $\tau,1$ for some $\tau \in \mathcal{H}$, we can consider the same Eisenstein series and instead consider it as a function on $\mathcal{H}$, namely consider, for an even integer $k>3$
\begin{equation}\label{C}
G_{k}(\tau)=\sum_{\substack{(m, n) \in \mathbb{Z}^{2} \\(m, n) \neq(0,0)}} \frac{1}{(m \tau+n)^{k}}    
\end{equation}
 \\
Note that it essentially is the Eisenstein series $G_k(\Lambda)$ for a lattice $\Lambda$ generated by $1,\tau$ denoted differently. By our discussion in Chapter 1, we get that $G_{k}(\tau)$ converges absolutely on $\mathcal{H}$ for $k>2$. Hence the order of the summation does not matter, and thus the definition given in the equation \ref{C} is well-defined. We also note that the sum converges uniformly on compact subsets of $\mathcal{H}$, and thus $G_{k}$ is holomorphic.

It remains to see that $Gk_(\tau)$ is indeed a modular form. We will make use of \ref{2.2.7}. 

It is thus sufficient to check weak modularity condition \ref{MC} for generators of the full modular group $S,T$. Also, for simplicity let us denote by $Z^{\prime}=\mathbb{Z}^{2} \backslash\{(0,0)\}$ as before.  
Now, we check weak modularity condition for $S$ and $T$.
The absolute convergence of Eisenstein series come in handy.

$$
G_{k}(\tau+1)=\sum_{(m, n) \in Z^{\prime}} \frac{1}{(m \tau+m+n)^{k}}=\sum_{(m, n) \in Z^{\prime}} \frac{1}{\left(m^{\prime} \tau+n^{\prime}\right)^{k}}=G_{k}(\tau)
$$
The second equality follows from absolute convergence, thus we may rearrange terms, noting that $(m, n) \mapsto(m, m+n)$ is a bijection from $\mathbb{Z}^{2} \backslash\{(0,0)\}$ to $\mathbb{Z}^{2} \backslash\{(0,0)\}$.
Now,
$$
\begin{aligned}
G_{k}\left(\frac{-1}{\tau}\right) & =\sum_{(m, n) \in Z^{\prime}} \frac{1}{\left(m\left(\frac{-1}{\tau}\right)+n\right)^{k}}=\sum_{(m, n) \in Z^{\prime}} \frac{\tau^{k}}{(-m+n \tau)^{k}} \\
& =\tau^{k} \sum_{(m, n) \in Z^{\prime}} \frac{1}{(n \tau-m)^{k}}=\tau^{k} \sum_{\left(m^{\prime}, n^{\prime}\right) \in Z^{\prime}} \frac{1}{\left(m^{\prime} \tau+n^{\prime}\right)^{k}} \\
& =\tau^{k} G_{k}(\tau)
\end{aligned}
$$

where, as before, the second last equality follows from rearranging terms.\\
Thus $G_{k}$ satisfies the weak modularity condition for both $S$ and $T$, and thus satisfies the condition for all $\gamma \in \mathrm{SL}_{2}(\mathbb{Z})$ by \ref{2.2.7}.
Finally, it can be proved that 
$$
\lim _{\operatorname{Im}(\tau) \rightarrow \infty} G_{k}(\tau)=2 \sum_{n=1}^{\infty} \frac{1}{n^{k}}=2 \zeta(k),
$$

where $\zeta$ denotes the Riemann-zeta function. More details can be found in \cite{diamond2005first}. \\ In particular, we have that $G_{k}(\tau)$ is bounded as $\operatorname{Im}(\tau) \rightarrow \infty$, and thus we get that the Eisenstein series is a modular form. 

Moreover, One can prove that the $q$-expansion of $G_{k}(\tau)$ can be given as \cite{diamond2005first}[Page 5]

$$
\tilde{G}_{k}(q)=2 \zeta(k)+2 \frac{(2 \pi i)^{k}}{(k-1) !} \sum_{n=1}^{\infty} \sigma_{k-1}(n) q^{n}
$$

where $\sigma_{k-1}(n)$ denotes the sum of the $(k-1)$-th powers of the positive divisors of $n$

$$
\sigma_{k-1}(n)=\sum_{\substack{d \mid n \\ d>0}} d^{k-1}
$$

We also note the normalised Eisenstein series, defined as $E_{k}(\tau)=G_{k}(\tau) /(2 \zeta(k))$, where the constant coefficient in the $q$-expansion normalises to 1 . Noting that $\zeta$ evaluated at the even integers gives \cite{diamond2005first}[Page 10]

$$
\zeta(k)=(-1)^{k / 2+1} \frac{B_{k}(2 \pi)^{k}}{2(k !)} \quad \text { for } k \text { even, } k \geq 2
$$

we thus obtain

$$
\begin{aligned}
\tilde{E}_{k}(q) & =1+\frac{(2 \pi i)^{k}}{\zeta(k)(k-1) !} \sum_{n=1}^{\infty} \sigma_{k-1}(n) q^{n} \\
& =1-\frac{2 k}{B_{k}} \sum_{n=1}^{\infty} \sigma_{k-1}(n) q^{n}
\end{aligned}
$$

Therefore, the coefficients in the $q$-expansion of the normalised Eisenstein series $E_{k}$ are all rational with a common denominator and moreover the first few coefficients for $E_{4}$ and $E_{6}$ are given as

$$
\begin{aligned}
& \tilde{E}_{4}(q)=1+240 q+2160 q^{2}+6720 q^{3}+\mathcal{O}\left(q^{4}\right) \\
& \tilde{E}_{6}(q)=1-504 q-16632 q^{2}-122976 q^{3}+\mathcal{O}\left(q^{4}\right)
\end{aligned}
$$


\subsection{Congruence Subgroups}
Replacing the modular group $\mathrm{SL}_{2}(\mathbb{Z})$ in the weak modularity condition by a subgroup $\Gamma$ generalizes the notion of weak modularity, allowing more examples of weakly modular functions. In this more general sense, we will especially see examples of modular forms of odd weight. We mainly want to focus on the subgroups of $\mathrm{SL}_{2}(\mathbb{Z})$, which are of finite index. We now see an important class of such subgroups: principal congruence subgroups of level $N$. 
\begin{definition}
    Let $N$ be a positive integer. The principal congruence subgroup of level $N$ is

$$
\Gamma(N)=\left\{\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \in \operatorname{SL}_{2}(\mathbf{Z}):\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \equiv\left[\begin{array}{ll}
1 & 0 \\
0 & 1
\end{array}\right](\bmod N)\right\} .
$$
\end{definition}
\vspace{2.5}
Note that the matrix congruence is defined entry-wise. That is, $a, c \equiv 1(\bmod N)$ and $b, c \equiv 0$ $(\bmod N)$Furthermore, as mentioned earlier, we want to focus on finite index subgroups of the modular group. Thus it is essential to check that the principal subgroups of level N are of finite index in the modular group. 

\begin{proposition}\label{index}
    Let $N$ be a positive integer. Then $\Gamma(N)$ has finite index in $\mathrm{SL}_{2}(\mathbb{Z})$.
\begin{proof}
    We define a natural homomorphism $\phi: \mathrm{SL}_{2}(\mathbb{Z}) \rightarrow \mathrm{SL}_{2}(\mathbb{Z} / N \mathbb{Z})$ given by 

$$
\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \mapsto\left[\begin{array}{ll}
{\Bar{a}} & {\Bar{b}} \\
{\Bar{c}} & {\Bar{d}}
\end{array}\right]
$$ 

where $\Bar{x}$ denotes the congruence class of $x$ modulo $N$. It can easily be seen that $\phi$ is a homomorphism. 
Now let us calculate the kernel,

$$
\phi(\gamma)=I \Longleftrightarrow \left[\begin{array}{ll}
{\Bar{a}} & {\Bar{b}} \\
{\Bar{c}} & {\Bar{d}}
\end{array}\right]=I$$ Now, by defintion of $\Gamma(N)$ we get that $$\gamma \in ker(\phi) \Longleftrightarrow \gamma \in \Gamma(N)
$$

Thus $ker(\phi)=\Gamma(N)$, and since kernel of group homomorphisms are normal in the domain we get that $\Gamma(N)$ is a normal subgroup in $\mathrm{SL}_{2}(\mathbb{Z})$. \\ Next, we show that $\phi$ is surjective.

Firstly, if $N=1$, then $\mathrm{SL}_{2}(\mathbb{Z} / N \mathbb{Z})$ consists of a single element whereby $\phi$ is a constant map and thus trivially surjective. We therefore now assume $N>1$.

Indeed, let $\gamma'=\left[\begin{array}{ll}
{\Bar{a}} & {\Bar{b}} \\
{\Bar{c}} & {\Bar{d}}
\end{array}\right]$ be an arbitrary element in $\mathrm{SL}_{2}(\mathbb{Z} / N \mathbb{Z})$. Thus, we have

$$
a d-b c \equiv 1 \quad(\bmod N) \quad \Longrightarrow \quad a d-b c+q N=1
$$

for some $q \in \mathbb{Z}$. Therefore $\operatorname{gcd}(a, b, N)=1$ and in particular, by Bezout's theorem, we have $\operatorname{gcd}(a, b)$ is coprime to $N$. \\
Now, we may assume without loss of generality that $a, b,c,d$ are all positive integers, as the class of $x$ equals class of $x+N$ modulo $N$ for any integer $x$. We define $g=\operatorname{gcd}(a, b)$.
Let $t$ be an integer satisfying the following congruence conditions:\\
$\bullet$ for all primes $p$ dividing $g$

$$
t \equiv 0 & \left(\bmod p \right)$$ 
$\bullet$ for all all primes $q$ dividing $a$ and not dividing $g$(note that either or both sets may be empty).
$$
t \equiv 1 & \left(\bmod q \right) 
$$

The Chinese Remainder theorem gives the existence of such a $t \in \mathbb{Z}$ since the primes concerned for the congruences are coprime by construction. Now, define $b^{\prime}=b+t N$. We now claim that $\operatorname{gcd}\left(a, b^{\prime}\right)=1$. Indeed, assume for contradiction that there exists some prime $q$ such that $q \mid a$ and $q \mid b^{\prime}$. We consider two cases:

Case 1: $q$ divides $g$. Thus, $q \mid \operatorname{gcd}(a, b)$ which implies $q \mid b$, hence $q \mid b^{\prime}-b=t N$. However, by construction of $t$ we have $t \equiv 1(\bmod q)$. Thus $N \equiv t N \equiv 0(\bmod q)$ and hence $q$ divides $N$. Therefore $q \mid \operatorname{gcd}(a, b, N)$ which contradicts $\operatorname{gcd}(a, b, N)=1$.

Case 2: $q$ does not divide $g$. As $q \mid a$, we have by construction of $t$ that $q \mid t$. Thus $q \mid b^{\prime}-t N=b$. Therefore, as $q \mid a$ and $q \mid b$, this implies $q \mid \operatorname{gcd}(a, b)$, contradicting our assumption that $q \nmid g$.

Therefore, we conclude that $\operatorname{gcd}\left(a, b^{\prime}\right)=1$. \\Thus by BÃ©zout's identity, there exist $x, y \in \mathbb{Z}$ such that $a x-b^{\prime} y=1$. Now, define $c \in \mathbb{Z}$ and $d \in \mathbb{Z}$ by:

$$
\begin{aligned}
c^{\prime} & =c+y\left(1-\left(a d-b^{\prime} c\right)\right) \\
d^{\prime} & =d+x\left(1-\left(a d-b^{\prime} c\right)\right)
\end{aligned}
$$

and define $\gamma=\left[\begin{array}{cc}a & b^{\prime} \\ c^{\prime} & d^{\prime}\end{array}\right]$. We prove that $\gamma \in \mathrm{SL}_{2}(\mathbb{Z})$. Indeed

$$
\begin{aligned}
\operatorname{det}(\gamma) & =a d^{\prime}-b^{\prime} c^{\prime} \\
& =a\left(d+c\left(1-\left(a d-b^{\prime} c\right)\right)\right)-b^{\prime}\left(c+y\left(1-\left(a d-b^{\prime} c\right)\right)\right) \\
& =a d-b^{\prime} c+\left(a x-b^{\prime} y\right)\left(1-\left(a d-b^{\prime} c\right)\right) \\
& =a d-b^{\prime} c+\left(1-\left(a d-b^{\prime} c\right)\right)=1
\end{aligned}
$$

and thus $\gamma \in \mathrm{SL}_{2}(\mathbb{Z})$. Furthermore, we note

$$
\begin{aligned}
& c^{\prime}=c+y\left(1-\left(a d-b^{\prime} c\right)\right) \equiv c+y q N \equiv c \quad(\bmod N) \\
& d^{\prime}=d+x\left(1-\left(a d-b^{\prime} c\right)\right) \equiv d+x q N \equiv d \quad(\bmod N) \text {. }
\end{aligned}
$$

Thus we finally obtain

$$
\phi(\gamma)=\phi\left[\begin{array}{cc}
a & b^{\prime} \\
c^{\prime} & d^{\prime}
\end{array}\right]=\phi\left[\begin{array}{cc}
a & b+t N \\
c^{\prime} & d^{\prime}
\end{array}\right]=\left[\begin{array}{cc}
{\Bar{a}} & {\Bar{b+tN}} \\
{\Bar{c^{\prime}}} & {\Bar{d^{\prime}}}
\end{array}\right]=\gamma'
$$

Thus, this proves $\phi$ is surjective.

We, therefore, obtain by the first isomorphism theorem that $\phi$ induces the isomorphism:

$$
\mathrm{SL}_{2}(\mathbb{Z}) / \Gamma(N) \cong \mathrm{SL}_{2}(\mathbb{Z} / N \mathbb{Z})
$$

\end{proof}
\end{proposition}
\begin{definition}
    A subgroup $\Gamma$ of $\mathrm{SL}_{2}(\mathbb{Z})$ is a congruence subgroup if $\Gamma(N) \subset \Gamma$ for some $N \in \mathbb{N}$, in which case $\Gamma$ is a congruence subgroup of level $N$.

\end{definition}
\begin{remark}
    

Besides the principal congruence subgroups, the most important congruence subgroups are

\begin{itemize}
    \item $$
\Gamma_{0}(N)=\left\{\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \in \mathrm{SL}_{2}(\mathbb{Z}):\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \equiv\left[\begin{array}{ll}
* & *\\
0 & *
\end{array}\right](\bmod N)\right\}
$$

(where "*" means unspecified or entries can be arbitrary and the only important entry is that we want $c$ to be divisible by $N$)

\item $$
\Gamma_{1}(N)=\left\{\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \in \operatorname{SL}_{2}(\mathbf{Z}):\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \equiv\left[\begin{array}{ll}
1 & * \\
0 & 1
\end{array}\right](\bmod N)\right\}
$$
 
\end{itemize}
\end{remark}
We now collect some properties of these congruence subgroups in a single proposition.
\begin{proposition}
\leavevmode\vspace{-\baselineskip}
\begin{enumerate}


    \item $$
\Gamma(N) \subset \Gamma_{1}(N) \subset \Gamma_{0}(N) \subset \mathrm{SL}_{2}(\mathbf{Z})
$$
\item  The map

$$
\Gamma_{1}(N) \longrightarrow \mathbf{Z} / N \mathbf{Z}, \quad\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \mapsto b(\bmod N)
$$

is a surjection with kernel $\Gamma(N)$.
\item The map

$$
\Gamma_{0}(N) \longrightarrow(\mathbf{Z} / N \mathbb{Z})^{*}, \quad\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \mapsto d(\bmod N)
$$

is a surjection with kernel $\Gamma_{1}(N)$ so that $\Gamma_{1}(N) \triangleleft \Gamma_{0}(N)$
\end{enumerate}   
\end{proposition}

\begin{proof}
    1. This is clear just by definition of the congruence subgroups and principal congruence subgroups. \\
    2. The surjectivity of the map is clear. This is because for any class $\bar{x}\in \mathbb{Z}/N\Z$, $\left[\begin{array}{ll}
1 & x \\
0 & 1
\end{array}\right] \mapsto \bar{x}$. Besides, by definition of congruence subgroup $\Gamma(N)$, we have that it is precisely the inverse image of the class of 0 in $\Z/N\Z$. This completes 2). Analogoulsly, 3) can be done.
\end{proof}
    
\begin{remark} First, just by definitions of congruence subgroup and principal congruence subgroups, we get that $\Gamma(N) \triangleleft \Gamma_{1}(N)$.

Apply first isomorphism theorem to part 2 and 3 in Proposition 2.4.5, we get that 

$$
\Gamma_{1}(N) / \Gamma(N) \stackrel{\sim}{\longrightarrow} \mathbb{Z} / N \mathbb{Z}, \quad\left[\Gamma_{1}(N): \Gamma(N)\right]=N
$$

$$
\Gamma_{0}(N) / \Gamma_{1}(N) \stackrel{\sim}{\longrightarrow}(\mathbb{Z} / N \mathbb{Z})^{*}, \quad\left[\Gamma_{0}(N): \Gamma_{1}(N)\right]=\phi(N),
$$

Where $\phi$ is the Euler totient function. \\

Furthermore, by tower of law of group indices together with \ref{index} shows, $$\left[\mathrm{SL}_{2}(\mathbf{Z}): \Gamma_{0}(N)\right]=N \prod_{p \mid N}(1+1 / p),$$ the product taken over all primes dividing $N$.
    
\end{remark}

We are almost there to define modular forms in a more general sense, that is with respect to congruence subgroups of the modular group, but before we need to define two important notions.

\begin{definition}[Factor of Automorphy]
    For a matrix $\gamma=\left[\begin{array}{ll}a & b \\ c & d\end{array}\right] \in \mathrm{SL}_{2}(\mathbb{Z})$ dthe factor of automorphy $j(\gamma, \tau) \in \mathbb{C}$ for $\tau \in \mathcal{H}$ is given by 

$$
j(\gamma, \tau)=c \tau+d
$$
\end{definition}
\begin{definition}[Weight $k$-Operator ]
     Let $\gamma \in \mathrm{SL}_{2}(\mathbb{Z})$ and $k$ be any integer. The weight- $k$ operator $[\gamma]_{k}$ on functions $f: \mathcal{H} \longrightarrow \mathbf{C}$ is given by

$$
\left(f[\gamma]_{k}\right)(\tau)=j(\gamma, \tau)^{-k} f(\gamma(\tau)), \quad \tau \in \mathcal{H}
$$
\end{definition} 
We now note important properties of these newly defined notions. 
\begin{proposition}
    
For all $\gamma, \gamma^{\prime} \in \mathrm{SL}_{2}(\mathbb{Z})$ and $\tau \in \mathcal{H}$

(a) $j\left(\gamma \gamma^{\prime}, \tau\right)=j\left(\gamma, \gamma^{\prime}(\tau)\right) j\left(\gamma^{\prime}, \tau\right)$,

(b) $\left(\gamma \gamma^{\prime}\right)(\tau)=\gamma\left(\gamma^{\prime}(\tau)\right)$

(c) $\left[\gamma \gamma^{\prime}\right]_{k}=[\gamma]_{k}\left[\gamma^{\prime}\right]_{k}$ (this is an equality of operators),

(d) $\operatorname{Im}(\gamma(\tau))=\frac{\operatorname{Im}(\tau)}{|j(\gamma, \tau)|^{2}}$, (e) $\frac{d \gamma(\tau)}{d \tau}=\frac{1}{j(\gamma, \tau)^{2}}$.
\begin{proof}
Let's start with the basic action of any matrix \( \gamma \) in \( \mathrm{SL}_{2}(\mathbb{Z}) \) on a point in the complex upper half-plane \( \mathcal{H} \). The action can be represented as a transformation of the complex point \( \tau \), which results in a new point \( \gamma(\tau) \), accompanied by a scalar multiplier \( j(\gamma, \tau) \).

This transformation can be written in vector-matrix form as:

\[
\gamma \begin{bmatrix}
\tau \\
1
\end{bmatrix} = \begin{bmatrix}
\gamma(\tau) \\
1
\end{bmatrix} j(\gamma, \tau).
\]

Next, consider the composite action of two matrices \( \gamma \) and \( \gamma^{\prime} \). Applying the transformation rule iteratively, we have:

\[
\gamma \gamma^{\prime} \begin{bmatrix}
\tau \\
1
\end{bmatrix} = \gamma \left( \begin{bmatrix}
\gamma^{\prime}(\tau) \\
1
\end{bmatrix} j(\gamma^{\prime}, \tau) \right) = \begin{bmatrix}
\gamma(\gamma^{\prime}(\tau)) \\
1
\end{bmatrix} j(\gamma, \gamma^{\prime}(\tau)) j(\gamma^{\prime}, \tau).
\]

Since the above equality holds for the respective vector-matrix multiplication, it implies that the scalar multipliers must also be equal, i.e., \( j(\gamma \gamma^{\prime}, \tau) = j(\gamma, \gamma^{\prime}(\tau)) j(\gamma^{\prime}, \tau) \). This establishes the relationship between the actions of \( \gamma \), \( \gamma^{\prime} \), and their composite on \( \tau \).

For a function \( f: \mathcal{H} \rightarrow \mathbb{C} \), we can express the action of \( \gamma \) and \( \gamma^{\prime} \) as fractional linear transformations:

\[
\begin{aligned}
\left(f\left[\gamma \gamma^{\prime}\right]_{k}\right)(\tau) &= j(\gamma \gamma^{\prime}, \tau)^{-k} f\left((\gamma \gamma^{\prime})(\tau)\right), \\
\left(\left(f[\gamma]_{k}\right)\left[\gamma^{\prime}\right]_{k}\right)(\tau) &= j(\gamma^{\prime}, \tau)^{-k}\left(f[\gamma]_{k}\right)(\gamma^{\prime}(\tau)) \\
&= j(\gamma^{\prime}, \tau)^{-k} j(\gamma, \gamma^{\prime}(\tau))^{-k} f(\gamma(\gamma^{\prime}(\tau))).
\end{aligned}
\] The part c) follows from equility of both the right hand sides which in turn follows from part a) and b).

Let us now derive the properties (d) and (e).
Let us begin by noting that,
\[
\operatorname{Im}(\gamma(\tau)) = \operatorname{Im}\left(\frac{a\tau + b}{c\tau + d}\right) = \operatorname{Im}\left(\frac{(a\tau + b)(\bar{c}\bar{\tau} + \bar{d})}{|c\tau + d|^2}\right).
\]

Expanding and simplifying this expression, we get:

\[
\operatorname{Im}(\gamma(\tau)) = \frac{(ad - bc)\operatorname{Im}(\tau)}{|c\tau + d|^2} = \frac{\operatorname{Im}(\tau)}{|c\tau + d|^2},
\]

where we used \( ad - bc = 1 \) as \( \gamma \in \mathrm{SL}_{2}(\mathbb{Z}) \). Noting that \( j(\gamma, \tau) = c\tau + d \), we arrive at the desired result:

\[
\operatorname{Im}(\gamma(\tau)) = \frac{\operatorname{Im}(\tau)}{|j(\gamma, \tau)|^{2}}.
\]
To derive \( \frac{d \gamma(\tau)}{d \tau}=\frac{1}{j(\gamma, \tau)^{2}} \), we take the derivative of \( \gamma(\tau) \) with respect to \( \tau \). The derivative of the fractional linear transformation is:

\[
\frac{d \gamma(\tau)}{d \tau} = \frac{d}{d \tau}\left(\frac{a\tau + b}{c\tau + d}\right) = \frac{a(c\tau + d) - c(a\tau + b)}{(c\tau + d)^2} = \frac{ad - bc}{(c\tau + d)^2}.
\]

Again we use that, \( ad - bc = 1 \) for \( \gamma \in \mathrm{SL}_{2}(\mathbb{Z}) \), this simplifies to:

\[
\frac{d \gamma(\tau)}{d \tau} = \frac{1}{(c\tau + d)^2} = \frac{1}{j(\gamma, \tau)^2}.
\]


\end{proof}
\end{proposition}
Equipped with all the notions required, let's define the term 'modular form' in the context of a congruence subgroup of \( \mathrm{SL}_{2}(\mathbf{Z}) \). Consider an integer \( k \) and a congruence subgroup \( \Gamma \) of \( \mathrm{SL}_{2}(\mathbf{Z}) \). A complex function \( f \) defined on the upper half-plane \( \mathcal{H} \) is termed a modular form of weight \( k \) for \( \Gamma \) if it satisfies two key criteria: it is weakly modular of weight \( k \) with respect to \( \Gamma \), and it adheres to a specific holomorphy condition. Let us make this precise. 

Each congruence subgroup \( \Gamma \) of \( \mathrm{SL}_{2}(\mathbf{Z}) \) contains a translation matrix of the form

\[
\begin{pmatrix}
1 & h \\
0 & 1
\end{pmatrix},
\]

where \( h \) is a positive integer. This is by definition of a congruence subgroup\( \Gamma \) containing \( \Gamma(N) \) for some \( N \), though \( h \) might be a proper divisor of \( N \). \\
Consequently, any function \( f: \mathcal{H} \to \mathbf{C} \) which is weakly modular with respect to \( \Gamma \) must exhibit a periodicity with respect to \( h\mathbf{Z} \), leading to an associated function \( g: D' \to \mathbf{C} \), where \( D' \) is the punctured disk, and \( f(\tau) = g(e^{2\pi i\tau/h}) \). 

If \( f \) is also holomorphic on \( \mathcal{H} \), then \( g \) extends holomorphically on the punctured disk and consequently has a Laurent series expansion. \\

\begin{definition}
    The function \( f \) is said to be holomorphic at infinity if \( g \) can be holomorphically extended to \( q = 0 \), giving a Fourier expansion for \( f \):

\[
f(\tau) = \sum_{n=0}^{\infty} a_n e^{2\pi in\tau/h}.
\]

\end{definition}

\begin{definition}[Modular form of weight $k$ with respect to a congruence subgroup $\Gamma$]
    Let $\Gamma$ be a congruence subgroup of $\mathrm{SL}_{2}(\mathbf{Z})$ and let $k$ be an integer. A function $f: \mathcal{H} \longrightarrow \mathrm{C}$ is a modular form of weight $k$ with respect to $\Gamma$ if

(1) $f$ is holomorphic,

(2) $f$ is weight- $k$ invariant under $\Gamma$,

(3) $f[\alpha]_{k}$ is holomorphic at $\infty$ for all $\alpha \in \mathrm{SL}_{2}(\mathbf{Z})$.

\end{definition}

\begin{definition}[Cusp form of weight $k$ with respect to a congruence subgroup $\Gamma$]
If $f$ is a modular form of weight $k$ with respect to a congruence subgroup $\Gamma$, and satisfies $a_{0}=0$ in the Fourier expansion of $f[\alpha]_{k}$ for all $\alpha \in \mathrm{SL}_{2}(\mathbf{Z})$,
then $f$ is called a cusp form of weight $k$ with respect to $\Gamma$.
\end{definition}

\begin{remark}
    1. As mentioned before, we would like to have that the space of Modular forms is finite dimensional. It is thus natural to expect that they are holomorphic not only on \( \mathcal{H} \) but also at certain limit points. In the case of a congruence subgroup \( \Gamma \), this amounts to adjoining the rational numbers \( \mathbf{Q} \) and the point at infinity to \( \mathcal{H} \), and recognizing equivalence under \( \Gamma \)-action. A \( \Gamma \)-equivalence class of points in \( \mathbf{Q} \cup \{\infty\} \) is termed a cusp of \( \Gamma \). The number of such cusps is finite, given the finiteness of the index of \( \Gamma \) in \( \mathrm{SL}_{2}(\mathbf{Z}) \). We will see this later. \\

2. A modular form with respect to \( \Gamma \) must be holomorphic at all these cusps. For any rational number \( s \), represented as \( s = \alpha(\infty) \) for some \( \alpha \in \mathrm{SL}_{2}(\mathbf{Z}) \), holomorphy at \( s \) translates to holomorphy at infinity under the action of the \( [\alpha]_k \) operator. \\

3. Another interesting feature of modular forms with respect to this generality is the existence of non-zero modular forms of odd weight is  when \( -I \) is an element of \( \Gamma \), contrary to the situation within the full modular group, \( \mathrm{SL}_{2}(\mathbf{Z}) \).
\end{remark}

\subsection{Fundamental Domains}

From this point onwards, it is clear that we want to  work with a modular form $f$ for $\Gamma$. We note that the function value at some point $z \in \mathbb{C}$ determines the function value at the set of all points $\Gamma z=\{\gamma z \mid \gamma \in \Gamma\}$ by the weak modularity condition. Thus it is natural to be interested in and work with a minimal set of points on the complex plane that fully determines $f$ on the upper half plane $\mathcal{H}$. This leads us to the notion of a fundamental domain. 

Since we are considering the action of congruence subgroups on the upper half plane, to define a minimal set of points we naturally want that every orbit induced under the group action of $\Gamma$ on $\mathcal{H}$ has at least one representative element in such a set $\mathcal{F}$. Furthermore, it is also a natural expectation that no two elements in the interior of our minimal set $\mathcal{F}$ should belong to the same orbit (i.e. the only possible exceptions are the boundaries).

\\
Summarising, we define...

\begin{definition}[\textbf{Fundamental Domains}]
Let $f$ be a modular form of weight $k$ for some finite index subgroup $\Gamma$. We define a \textbf{fundamental domain} of $f$ as a subset $\mathcal{F} \subseteq \mathbb{C}$ satisfying the following two conditions: \\

 \begin{enumerate}
  \item $\Gamma \mathcal{F}=\{\gamma z \mid \gamma \in \Gamma$ and $z \in \mathcal{F}\}=\mathcal{H}$

  \item $\operatorname{int}(\mathcal{F}) \cap \operatorname{int}(\gamma \mathcal{F})=\emptyset \quad$ for all $\gamma \in \Gamma-\{I,-I\}$

\end{enumerate}

\end{definition}

\begin{proposition}\label{fndd}

 The subset $\mathcal{F}=\left\{\tau \in \mathcal{H}: \hspace{4} | \operatorname{Re}(\tau) \mid \leq \frac{1}{2} \text { and }|\tau| \geq 1\right\}$ of $\mathcal{H}$ is a (connected) fundamental domain for $\mathrm{SL}_{2}(\mathbb{Z})$. Let $\zeta_{3}=e^{\frac{2\pi i}{3}}$ be the primitive third root of unity.

Moreover the stabilizer $H_{\tau}$ of a point $\tau \in \mathcal{F}$ in $\mathrm{SL}_{2}(\mathbb{Z})$ is

$$
H_{\tau}= \begin{cases}C_{6}=\langle S T\rangle=\left\langle\left(\begin{array}{cc}
0 & -1 \\
1 & 1
\end{array}\right)\right\rangle & \tau=\zeta_{3}, \\
C_{6}^{\prime}=\langle T S\rangle=\left\langle\left(\begin{array}{cc}
1 & -1 \\
1 & 0
\end{array}\right)\right\rangle & \tau=\zeta_{3}+1, \\
C_{4}=\langle S\rangle=\left\langle\left(\begin{array}{cc}
0 & -1 \\
1 & 0
\end{array}\right)\right\rangle & \tau=i, \\
C_{2}=\langle-I\rangle=\left\langle\left(\begin{array}{cc}
-1 & 0 \\
0 & -1
\end{array}\right)\right\rangle & \text { else. }\end{cases}
$$
\begin{proof}
Let $z$ be an element of the upper half-plane $\mathcal{H}$. As previously established, when $\gamma$ belongs to the special linear group $\operatorname{SL}_{2}(\mathbb{Z})$, the following relationship holds:

$$
\operatorname{Im}(\gamma z)=\frac{\operatorname{Im}(z)}{|c z+d|^{2}}, \quad \text{where} \quad \gamma=\begin{pmatrix}
a & b \\
c & d
\end{pmatrix}
$$

There exist a finite number of pairs $(c, d) \in \mathbb{Z}^{2}$ for which $|c z+d|<1$. Notably, it is possible to select a matrix $\gamma \in\langle S, T\rangle \subseteq \mathrm{SL}_{2}(\mathbb{Z})$ such that

$$
\operatorname{Im}(\gamma z) \geq \operatorname{Im}\left(\gamma^{\prime} z\right), \quad \text{for all} \quad \gamma^{\prime} \in\langle S, T\rangle \subseteq \mathrm{SL}_{2}(\mathbb{Z})
$$

We will now multiply $\gamma$ by an appropriate power of $T$. This operation does not alter the imaginary part, allowing us to assume that $|\operatorname{Re}(\gamma z)| \leq \frac{1}{2}$. 

Our next objective is to demonstrate that $|\gamma z| \geq 1$:

$$
\operatorname{Im}(\gamma z) \geq \operatorname{Im}(S \gamma z)=\operatorname{Im}\left(-\frac{1}{\gamma z}\right)=\frac{\operatorname{Im}(\gamma z)}{|\gamma z|^{2}}
$$

This implies $|\gamma z| \geq 1$, and consequently, $\gamma z$ belongs to the fundamental domain $\mathcal{F}$.

Suppose $z^{\prime}=\gamma z$, and both $z$ and $z^{\prime}$ are elements of $\mathcal{F}$. Without loss of generality, let us assume that $\operatorname{Im}(\gamma z) \geq \operatorname{Im}(z)$. Let us write $z=x+iy$. Then,  $\operatorname{Im}(\gamma z) \geq \operatorname{Im}(z)$ is equivalent to

$$
|c z+d|^{2}=|c x+d|^{2}+|c y|^{2} \leq 1 . \quad.
$$

Given that $y>1 / 2$, we deduce that $|c| \leq 1$. The case $c=0$ implies $|d| \leq 1$. Furthermore, since $\begin{pmatrix} a & b \\ c & d \end{pmatrix} \in \operatorname{SL}_{2}(\mathbb{Z})$, this means $\gamma= \pm\begin{pmatrix} 1 & b \\ 0 & 1 \end{pmatrix}$, representing a translation matrix. Therefore, $z^{\prime}=z \pm 1$.

Let's assume $c=1$ (the case $c=-1$ is analogous). In this scenario, the condition $|z+d|^{2} \leq 1$ is only satisfied when $|z|=1$ (for $d=0$), when $z=\zeta_3$ (for $d=1$), or when $z=\zeta_3+1$ (for $d=-1$).

For the analysis of stabilizers of points $z \in \mathcal{F}$, we can use the earlier calculations. If $\gamma z=z$, it necessarily follows that $c= \pm 1$, and by negating $\gamma$, we can assume $c=1$. The quadratic equation resulting from $\gamma z=z$ leads to $|a+d|<2$, which further implies $|a+d| \leq 1$. Concurrently, the condition that $z \in \mathcal{F}$ enforces $|a-d| \leq 1$. 
Together, these two inequalities yield $|a| \leq 1$. \\ 
We finish by analyzing the stabilizers in \( \mathrm{SL}_{2}(\mathbb{Z}) \)

Case 1. Translation Matrices: \\ (\( \gamma = \pm I \)): Here, \( \gamma \) is either \( \begin{pmatrix} 1 & 0 \\ 0 & 1 \end{pmatrix} \) or \( \begin{pmatrix} -1 & 0 \\ 0 & -1 \end{pmatrix} \). These matrices leave all points in \( \mathcal{H} \) unchanged, hence fixing all points in \( \mathcal{F} \).

Case 2. Horizontal Shifts: \\  Consider, 
(\( \gamma = \pm\begin{pmatrix} 1 & 1 \\ 0 & 1 \end{pmatrix} \) and \( \pm\begin{pmatrix} 1 & -1 \\ 0 & 1 \end{pmatrix} \)). Note that these matrices correspond to shifting points by \( \pm 1 \) along the real axis. Since no point in \( \mathcal{F} \) remains within \( \mathcal{F} \) after such a shift, these matrices do not fix any points.

3. Inversion and Rotation: \\
(\( \gamma = \pm\begin{pmatrix} 0 & -1 \\ 1 & 0 \end{pmatrix} \)): 
This case includes matrices that essentially rotate and invert points in the complex plane.
The only fixed point under this transformation is \( i \), as it is the unique point of intersection of the unit circle and the imaginary axis within \( \mathcal{F} \).

4. The transformations, \( \gamma = \pm\begin{pmatrix} -1 & -1 \\ 1 & 0 \end{pmatrix}, \pm\begin{pmatrix} 0 & -1 \\ 1 & 1 \end{pmatrix}, \pm\begin{pmatrix} 1 & -1 \\ 1 & 0 \end{pmatrix}, \pm\begin{pmatrix} 0 & -1 \\ 1 & -1 \end{pmatrix} \) lead to the fixed points \( \zeta_3 = -\frac{1}{2} + \frac{\sqrt{3}}{2}i \) and \( \zeta_3 + 1 \). The former corresponds to one of the vertices of the fundamental domain, while the latter represents a point adjacent to \( \zeta_3 \). The stabilizer subgroup calculations show that these specific transformations result in either \( \zeta_3 \) or \( \zeta_3 + 1 \) being fixed.

   \end{proof}
\end{proposition}

\begin{corollary}
    

    The group $\mathrm{SL}_{2}(\mathbb{Z})$ is generated by the matrices $T$ and $S$.
    \begin{proof}
        Let $z_{0}$ be a point in the interior of $\mathcal{F}$. Given $\gamma \in \mathrm{SL}_{2}(\mathbb{Z})$, by proof of proposition \ref{fndd}, there exists a matrix, $\delta \in\langle T, S\rangle$ such that $\delta \gamma^{-1} z_{0} \in \mathcal{F}$. Since $z_{0}$ is an interior point  of $\mathcal{F}$, we have  $\delta \gamma^{-1} z_{0}=z_{0}$ and hence $\delta \gamma^{-1}= \pm I$. If $\delta \gamma^{-1}= I$, we are done. If $\delta \gamma^{-1}= -I$, we premultiply by $S^{2}=-I$ to end the proof.

    \end{proof}
\end{corollary}
It is clear that there are infinitely many choices for a fundamental domain of the modular group  $\mathrm{SL_2_(\Z)}$, but like many standard texts on Modular forms, we will mainly work with $$
\mathcal{F}=\left\{\tau \in \mathcal{H}: \hspace{4} | \operatorname{Re}(\tau) \mid \leq \frac{1}{2} \text { and }|\tau| \geq 1\right\}.
$$

\subsection{Moduli Spaces}

Consider the set $S$ of isomorphism classes of elliptic curves. Every complex elliptic curve  is isomorphic to $\mathbb{C} / \Lambda$ for some lattice $\Lambda$, and in fact it is isomorphic to $\mathbb{C} / \Lambda_{\tau}$ for some $\tau \in \mathbb{H}$. Moreover,

$$
\mathbb{C} / \Lambda_{\tau} \cong \mathbb{C} / \Lambda_{\tau^{\prime}} \Longleftrightarrow \mathrm{SL}_{2}(\mathbb{Z}) \tau=\mathrm{SL}_{2}(\mathbb{Z}) \tau^{\prime}
$$

Therefore there is a natural bijection

$$
S \longleftrightarrow \mathrm{SL}_{2}(\mathbb{Z}) \backslash \mathbb{H}, \quad\left[\mathbb{C} / \Lambda_{\tau}\right] \mapsto \mathrm{SL}_{2}(\mathbb{Z}) \tau
$$

The quotient $\mathrm{SL}_{2}(\mathbb{Z}) \backslash \mathbb{H}$ is thus called the moduli space for isomorphism classes of elliptic curves.

Let now $f \in M_{k}\left(\mathrm{SL}_{2}(\mathbb{Z})\right)$ be a modular form of weight $k$. We define the following function $F$ on the set of complex tori:

$$
F\left(\mathbb{C} / \Lambda_{\tau}\right)=f(\tau)
$$

This is well defined, because if $\Lambda_{\tau}=\Lambda_{\tau^{\prime}}$ then $\tau=\tau^{\prime}+b$ for some $b \in \mathbb{Z}$, and $f(\tau+b)=f(\tau)$. Moreover, suppose that $m \Lambda_{\tau}=\Lambda_{\tau^{\prime}}$. Then

$$
\tau=\left(\begin{array}{ll}
a & b \\
c & d
\end{array}\right) \tau^{\prime}, \quad m=c \tau^{\prime}+d .
$$

Then we may compute:

$$
F\left(\mathbb{C} / m \Lambda_{\tau}\right)=F\left(\mathbb{C} / \Lambda_{\tau^{\prime}}\right)=f\left(\tau^{\prime}\right)=\left(c \tau^{\prime}+d\right)^{-k} f(\tau)=F\left(\mathbb{C} / \Lambda_{\tau}\right) m^{-k}
$$

From this we deduce that

$$
F(\mathbb{C} / m \Lambda)=m^{-k} F(\mathbb{C} / \Lambda)
$$

We could thus define modular forms as functions on complex tori satisfying the above relations. This prototype can be pushed to work for other congruence subgroups, although isomorphism classes of elliptic curves will have to be replaced by objects carrying more data.


\begin{definition}
    An enhanced elliptic curve for $\Gamma_{0}(N)$ is a pair $(E, C)$, where $E$ is an elliptic curve and $C$ is a cyclic subgroup of order $N$ in $E[N]$. Two enhanced elliptic curves $(E, C)$ and $\left(E^{\prime}, C^{\prime}\right)$ are equivalent if there exists an isomorphism $\varphi: E \stackrel{\simeq}{\rightarrow} E^{\prime}$ such that $\varphi(C)=C^{\prime}$.

We write $S_{0}(N)$ for the set of equivalence classes of enhanced elliptic curves.

\end{definition}

\begin{proposition}
    \begin{enumerate}
  \item Each class in $S_{0}(N)$ has a representative of the form $\left(\mathbb{C} / \Lambda_{\tau},\left\langle\frac{1}{N}+\Lambda_{\tau}\right\rangle\right)$, for some $\tau \in \mathbb{H}$.

  \item Two pairs $\left(\mathbb{C} / \Lambda_{\tau},\left\langle\frac{1}{N}+\Lambda_{\tau}\right\rangle\right)$ and $\left(\mathbb{C} / \Lambda_{\tau^{\prime}},\left\langle\frac{1}{N}+\Lambda_{\tau^{\prime}}\right\rangle\right)$ are equivalent if and only if $\Gamma_{0}(N) \tau=$ $\Gamma_{0}(N) \tau^{\prime}$. Therefore the map $\tau \mapsto\left(\mathbb{C} / \Lambda_{\tau},\left\langle\frac{1}{N}+\Lambda_{\tau}\right\rangle\right)$ induces a bijection of $Y_{0}(N)=\Gamma_{0}(N) \backslash \mathbb{H} \cong$ $S_{0}(N)$

\end{enumerate}
\begin{proof}
    Consider an enhanced elliptic curve $(\mathbb{C} / \Lambda, C)$. We have already seen that there is an isomorphism $\varphi: \mathbb{C} / \Lambda \cong \mathbb{C} / \Lambda_{\tau^{\prime}}$ for some $\tau^{\prime} \in \mathbb{H}$. Since $C$ is cyclic of order $N$, the same is true for $\varphi(C)$. Therefore $(\mathbb{C} / \Lambda, C)$ is equivalent to $\left(\mathbb{C} / \Lambda_{\tau^{\prime}},\left\langle\frac{c \tau^{\prime}+d}{N}+\Lambda_{\tau^{\prime}}\right\rangle\right)$ for some integers $c$ and $d$ coprime to each other and to $N$. Since reduction modulo $N$ gives a surjection $\mathrm{SL}_{2}(\mathbb{Z}) \rightarrow \mathrm{SL}_{2}(\mathbb{Z} / N / Z Z)$, one can find a matrix

$$
\gamma=\left(\begin{array}{ll}
a^{\prime} & b^{\prime} \\
c^{\prime} & d^{\prime}
\end{array}\right) \in \mathrm{SL}_{2}(\mathbb{Z})
$$

such that $c^{\prime} \equiv c(\bmod N)$ and $d^{\prime} \equiv d(\bmod N)$. Set now $\tau=\gamma \tau^{\prime}$ and $m=c^{\prime} \tau^{\prime}+d^{\prime}$, so $m \Lambda_{\tau}=\Lambda_{\tau^{\prime}}$ and, as we wanted to show,

$$
m\left(\frac{1}{N}+\Lambda_{\tau}\right)=\frac{c^{\prime} \tau^{\prime}+d^{\prime}}{N}+\Lambda_{\tau^{\prime}}=\frac{c \tau^{\prime}+d}{N}+\Lambda_{\tau^{\prime}}
$$

As for the second part, for an isomorphism between $\mathbb{C} / \Lambda_{\tau}$ and $\mathbb{C} / \Lambda_{\tau^{\prime}}$ to exist there needs to exist $\gamma=\left(\begin{array}{ll}a & b \\ c & d\end{array}\right) \in \mathrm{SL}_{2}(\mathbb{Z})$ such that

$$
\left(c \tau^{\prime}+d\right) \Lambda_{\tau}=\Lambda_{\tau^{\prime}}
$$

Moreover, for the corresponding isomorphism to respect the cyclic subgroups one needs to have

$$
\left\langle\left(c \tau^{\prime}+d\right)\left(\frac{1}{N}+\Lambda_{\tau}\right)\right\rangle=\left\langle\frac{1}{N}+\Lambda_{\tau^{\prime}}\right\rangle
$$

That is, $\gamma$ satisfies

$$
\left\langle\frac{c \tau^{\prime}+d}{N}+\Lambda_{\tau^{\prime}}\right\rangle=\left\langle\frac{1}{N}+\Lambda_{\tau^{\prime}}\right\rangle
$$

which is equivalent to $N \mid c$ (and then $d$ is necessarily coprime to $N$ ). This last condition is precisely saying that $\gamma$ must belong to $\Gamma_{0}(N)$

\end{proof}
\end{proposition}

\begin{definition}
    An enhanced elliptic curve for $\Gamma_{1}(N)$ is a pair $(E, P)$, where $E$ is an elliptic curve and $P$ is a point of exact order $N$ in $E[N]$. Two enhanced elliptic curves $(E, P)$ and $\left(E^{\prime}, P^{\prime}\right)$ are equivalent if there exists an isomorphism $\varphi: E \stackrel{\simeq}{\rightarrow} E^{\prime}$ such that $\varphi(P)=P^{\prime}$.

We write $S_{1}(N)$ for the set of equivalence classes of enhanced elliptic curves for $\Gamma_{1}(N)$.

\end{definition}

\begin{proposition}
    \begin{enumerate}
  \item Each class in $S_{1}(N)$ has a representative of the form\\ $\left(\mathbb{C} / \Lambda_{\tau}, \frac{1}{N}+\Lambda_{\tau}\right)$, for some $\tau \in \mathbb{H}$.

  \item Two pairs $\left(\mathbb{C} / \Lambda_{\tau}, \frac{1}{N}+\Lambda_{\tau}\right)$ and $\left(\mathbb{C} / \Lambda_{\tau^{\prime}}, \frac{1}{N}+\Lambda_{\tau^{\prime}}\right)$ are equivalent if and only if $\Gamma_{1}(N) \tau=\Gamma_{1}(N) \tau^{\prime}$. Therefore the map $\tau \mapsto\left(\mathbb{C} / \Lambda_{\tau}, \frac{1}{N}+\Lambda_{\tau}\right)$ induces a bijection of $Y_{1}(N)=\Gamma_{1}(N) \backslash \mathbb{H} \cong S_{1}(N)$.

\end{enumerate}

\begin{proof}
    Let $(E, Q)$ be any point in $S_{1}(N)$. Since $E$ is isomorphic to $\mathbb{C} / \Lambda_{\tau^{\prime}}$ for some $\tau^{\prime} \in \mathbb{H}$, we may take $E=\mathbb{C} / \Lambda_{\tau^{\prime}}$, and hence $Q=\left(c \tau^{\prime}+d\right) / N+\Lambda_{\tau^{\prime}}$ for some $c, d \in \mathbb{Z}$. The fact that the order of $Q$ is exactly $N$ means that $\operatorname{gcd}(c, d, N)=1$, and therefore there exists $a, b, k \in \mathbb{Z}$ such that

$$
a d-b c-k N=1
$$

Note that this means that the matrix $\left(\begin{array}{ll}a & b \\ c & d\end{array}\right)$ has determinant $1(\bmod N)$. Using that $\mathrm{SL}_{2}(\mathbb{Z})$ surjects into $\mathrm{SL}_{2}(\mathbb{Z} / N \mathbb{Z})$ and the fact that $c$ and $d$ only matter modulo $N$, we find a matrix $\gamma \in \mathrm{SL}_{2}(\mathbb{Z})$ with lower low $(c, d)$. Let $\tau=\gamma \tau^{\prime}$, and let $m=c \tau^{\prime}+d$. Then we obtain $m \tau=a \tau^{\prime}+b$, which implies that $m \Lambda_{\tau}=\Lambda_{\tau^{\prime}}$. Moreover,

$$
m\left(1 / N+\Lambda_{\tau}\right)=\frac{c \tau^{\prime}+d}{N}+\Lambda_{\tau^{\prime}}=Q
$$

Therefore the class $[E, Q]$ is the same as $\left[\mathbb{C} / \Lambda_{\tau}, 1 / N+\Lambda_{\tau}\right]$.

Finally, given two points $\tau, \tau^{\prime} \in \mathbb{H}$ such that $\Gamma_{1}(N) \tau=\Gamma_{1}(N) \tau^{\prime}$, we may write $\tau=\gamma \tau^{\prime}$ for some $\gamma=\left(\begin{array}{ll}a & b \\ c & d\end{array}\right) \in \Gamma_{1}(N)$. Letting $m=c \tau^{\prime}+d$, then:

$$
m \Lambda_{\tau}=\Lambda_{\tau^{\prime}}, \quad m\left(1 / N+\Lambda_{\tau}\right)=\frac{c \tau^{\prime}+d}{N}+\Lambda_{\tau^{\prime}}
$$

Since $(c, d) \equiv(0,1)(\bmod N)$, the last term is just $1 / N+\Lambda_{\tau^{\prime}}$, as we wanted to show.
\end{proof}
\end{proposition}
\subsection{Cusps and Elliptic Points}

\begin{definition}[\textbf{Modular Curve}]
    For any congruence subgroup $\Gamma$ in $\mathrm{SL}_{2}(\mathbb{Z})$, we define the modular curve $Y(\Gamma)$ as the set of orbits induced by the action of $\Gamma$ on $\mathcal{H}$.
    $$
Y(\Gamma)=\Gamma \backslash \mathcal{H}=\{\Gamma \tau \mid \tau \in \mathcal{H}\}
$$
\end{definition}
One can prove that $Y(\Gamma)$ forms a Riemann surface which is Haussdorf.(find a nice reference of state the proof).
However, $Y(\Gamma)$ on its own is not compact. To compactify this surface, we need to extend the action of $\Gamma$ on $\mathcal{H}$ to include the projective line over the the rationals $\mathbb{Q}$.

\begin{definition}
    The \textbf{projective line} over $\mathbb{Q}$ is the set

$$
\mathbb{P}^{1}(\mathbb{Q})=\mathbb{Q} \cup\{\infty\}
$$

\end{definition}
\begin{remark}
We know that the action of $\mathrm{SL}_{2}(\mathbb{Z})$ on $\mathcal{H}$ gives fractional linear transformations on $\mathcal{H}$. We can extend this action to $\mathbb{P}^{1}(\mathbb{Q})$ as well, where we define

$$
\gamma\left(\frac{p}{q}\right)=\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \frac{p}{q}:=\frac{a p+b q}{c p+d q} \quad \text { for all } \left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \in \mathrm{SL}_{2}(\mathbb{Z})
$$

and we define

$$
\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \infty=\frac{a}{c} \quad \text { and } \quad\left[\begin{array}{ll}
a & b \\
c & d
\end{array}\right] \frac{-d}{c}=\infty
$$
    We therefore have that $\mathrm{SL}_{2}(\mathbb{Z})$ also acts on $\mathbb{P}^{1}(\mathbb{Q})$. Indeed, for an arbitrary subgroup $\Gamma$, we let $\Gamma$ act on $\mathcal{H} \cup \mathbb{P}^{1}(\mathbb{Q})=\mathcal{H} \cup \mathbb{Q} \cup\{\infty\}$. Taking the extended quotient induced by this action give us the compactified Riemann surface $X(\Gamma)$, See (\cite{diamond2005first},p.58),defined as

$$
\left.X(\Gamma)=\Gamma \backslash \mathcal{H} \cup \mathbb{P}^{1}(\mathbb{Q})=Y(\Gamma) \cup \Gamma \backslash \mathbb{P}^{1}(\mathbb{Q})=Y(\Gamma) \cup \Gamma \backslash \mathbb{Q} \cup\{\infty\}\right)
$$
We, therefore, note that $X(\Gamma)$ consists of adjoining the points $\Gamma \backslash \mathbb{P}^{1}(\mathbb{Q})$ to the modular curve $Y(\Gamma)$, thus compactifying the Riemann surface. We define these points $\Gamma \backslash \mathbb{P}^{1}(\mathbb{Q})$ as the cusps of $X(\Gamma)$, which we shall also denote as $\operatorname{Cusps}(\Gamma)$.

The cusps are hence simply the set of orbits in $\mathbb{P}^{1}(\mathbb{Q})$ induced by the action of $\Gamma$. We first determine the cusps for $\mathrm{SL}_{2}(\mathbb{Z})$.
\end{remark}
\begin{proposition}\label{2.7.4}
    $X\left(\mathrm{SL}_{2}(\mathbb{Z})\right)$ contains a single cusp.
\begin{proof}
     We simply prove that $\mathrm{SL}_{2}(\mathbb{Z})$ acts transitively on $\mathbb{P}^{1}(\mathbb{Q})$. Indeed, let $c \in \mathbb{Q}$ be given, and denote $c=\frac{p}{q}$ where $p$ and $q$ are coprime. Thus, by BÃ©zout's identity, there exists $r, s \in \mathbb{Z}$ such that $p r-q s=1$. Now, define $\gamma:=\left[\begin{array}{ll}p & s \\ q & r\end{array}\right]$. By definition of $r$ and $s$ we have that $\gamma \in \mathrm{SL}_{2}(\mathbb{Z})$. Note

$$
\gamma(\infty)=\left[\begin{array}{ll}
p & s \\
q & r
\end{array}\right] \infty=\frac{p}{q}=c
$$

Thus, $c$ is in the orbit of $\infty$, for all $c \in \mathbb{Q}$. Hence, the action of $\mathrm{SL}_{2}(\mathbb{Z})$ induces a single orbit on $\mathbb{P}^{1}(\mathbb{Q})$, and thus $\mathrm{SL}_{2}(\mathbb{Z})$ acts transitively.

\end{proof}
\end{proposition}
We can furthermore prove that for any finite-index subgroup $\Gamma, X(\Gamma)$ consists of finitely many cusps.
\begin{proposition}\label{2.7.5}
    Let $\Gamma$ be a finite index subgroup of $\mathrm{SL}_{2}(\mathbb{Z})$. Then $X(\Gamma)$ contains finitely many cusps.
\begin{proof}
    We first prove that the stabiliser of $\mathrm{SL}_{2}(\mathbb{Z})$ with respect to $\infty$ is

$$
\mathrm{SL}_{2}(\mathbb{Z})_{\infty}=\left\{ \pm\left(\begin{array}{ll}
1 & b \\
0 & 1
\end{array}\right) \mid b \in \mathbb{Z}\right\}
$$

Indeed, let $\gamma=\left(\begin{array}{ll}a & b \\ c & d\end{array}\right) \in \mathrm{SL}_{2}(\mathbb{Z})_{\infty}$. Then

$$
\gamma \infty=\infty \quad \Longrightarrow \quad\left(\begin{array}{ll}
a & b \\
c & d
\end{array}\right) \infty=\infty \quad \Longrightarrow \quad \frac{a}{c}=\infty \quad \Longrightarrow \quad c=0
$$

Thus, as $\operatorname{det}(\gamma)=1$, we have $a d=1$ and hence $a=d=1$ or $a=d=-1$. We therefore have $\gamma= \pm\left(\begin{array}{ll}1 & b \\ 0 & 1\end{array}\right)$. Conversely, it can easily be seen that any such $\gamma$ of that form stabilizes $\infty$, thus proving the claim. 

Thus, by the Orbit-Stabilizer theorem, we obtain a bijection between $\mathrm{SL}_{2}(\mathbb{Z}) \backslash \mathrm{SL}_{2}(\mathbb{Z})_{\infty}$ and $\mathbb{P}^{1}(\mathbb{Q})$ given by the map $\gamma \mathrm{SL}_{2}(\mathbb{Z})_{\infty} \mapsto \gamma(\infty)$.

We now consider the function $\phi: \Gamma \backslash \mathrm{SL}_{2}(\mathbb{Z}) \rightarrow \Gamma \backslash \mathbb{P}^{1}(\mathbb{Q})$ defined by

$$
\Gamma \gamma \mapsto \Gamma \gamma(\infty)
$$

Note that $\phi$ is well-defined by associativity of the group action induced by $\mathrm{SL}_{2}(\mathbb{Z})$. Furthermore, we have that $\phi$ is surjective, as $\mathrm{SL}_{2}(\mathbb{Z})$ acts transitively on $\mathbb{P}^{1}(\mathbb{Q})$. Thus the order of $\Gamma \backslash \mathbb{P}^{1}(\mathbb{Q})$ is no greater than the order of $\Gamma \backslash \mathrm{SL}_{2}(\mathbb{Z})$, and as $\Gamma$ has finite index in $\mathrm{SL}_{2}(\mathbb{Z})$ this implies $X(\Gamma)$ contains finitely many cusps.

\end{proof}
\end{proposition}

\begin{example}\cite{visser_computing_2023}


Consider \( \Gamma = \Gamma_{1}(4) \). Notably, the matrix \( -I \) is not an element of \( \Gamma \). Using the index formula, of \( \Gamma \) in \( \mathrm{SL}_{2}(\mathbb{Z}) \) we have that the index is 12.

\textbf{Coset Representatives in \( \mathrm{SL}_{2}(\mathbb{Z}) \):}

A set \( R \) of coset representatives for \( \Gamma \) in \( \mathrm{SL}_{2}(\mathbb{Z}) \) is given by:

\[
R = \{I, -I, S, -S, ST, -ST, ST^{-1}, -ST^{-1}, ST^2, -ST^2, ST^2S, -ST^2S\}.
\]

\textbf{Coset Representatives in \( \mathrm{PSL}_{2}(\mathbb{Z}) \):}

Similarly, a set \( Q \) of coset representatives for \( \Gamma \) in \( \mathrm{PSL}_{2}(\mathbb{Z}) \) includes:

\[
Q = \{\pm I, \pm S, \pm ST, \pm ST^{-1}, \pm ST^2, \pm ST^2S\}.
\]
\textbf{Finding All Cusps:}

To identify all the cusps, we calculate \( \gamma(\infty) \) for each \( \gamma \) in \( R \). We observe:

- \( I(\infty) = \infty \),
- For \( \gamma \) in \( \{\pm S, \pm ST, \pm ST^{-1}, \pm ST^2\} \), \( \gamma(\infty) = 0 \),
- For \( \gamma \) in \( \{\pm ST^2S\} \), \( \gamma(\infty) = -\frac{1}{2} \).

Since \( T \in \Gamma \), we have \( \frac{1}{2} = T(-\frac{1}{2}) = TST^2S(\infty) \). Therefore, \( \frac{1}{2} \) and \( -\frac{1}{2} \) correspond to the same cusp under the action of \( \Gamma \). Also, \( \infty \) and \( \frac{1}{2} \), as well as \( 0 \) and \( \frac{1}{2} \), are not in the same orbit.

\textbf{Visualizing the Cosets and Cusps:}

Visual observation reveals that the six coset translates of \( I \) correspond to the six cosets of \( \Gamma_{1}(4) \) in \( \mathrm{PSL}_{2}(\mathbb{Z}) \). The three cusps at \( \infty \), \( 0 \), and \( -\frac{1}{2} \) correspond to the sets of cosets \( \{I\} \), \( \{ST^{-1}, S, ST, ST^2\} \), and \( \{ST^2S\} \), respectively.

From this analysis, it becomes evident that the modular curve \( X(\Gamma_{1}(4)) \) consists of exactly three distinct cusps:

\[
\operatorname{Cusps}(\Gamma_{1}(4)) = \{\Gamma(\infty), \Gamma(0), \Gamma(\frac{1}{2})\}.
\]
    
\end{example}

Next, we come to the notion of \textbf{Elliptic Points} we remarked earlier that matrices $I$ and $-I$ act trivially at every point $\tau \in \mathcal{H}$. That is $I \tau=(-I) \tau=\tau$ for all $\tau \in \mathcal{H}$. We are furthermore interested in calculating the points $\tau \in \mathcal{H}$ for which there exist matrices $\gamma \in \mathrm{SL}_{2}(\mathbb{Z})$ other than $I$ and $-I$ such that $\gamma(\tau)=\tau$.

\begin{definition}
    Let $\Gamma$ be a subgroup of $\mathrm{SL}_{2}(\mathbb{Z})$. We define the stabiliser subgroup of $\Gamma$ with respect to $\tau$ (also denoted the isotropy subgroup of $\tau$ ) as

$$
\Gamma_{\tau}=\{\gamma \in \Gamma: \gamma(\tau)=\tau\}
$$

\end{definition}

    \begin{remark}
        \begin{enumerate}
            \item $\Gamma_{\tau}$ is a subgroup of $\mathrm{SL}_{2}(\mathbb{Z})_{\tau}$.
            \item For any $\delta \in \mathrm{SL}_{2}(\mathbb{Z})$, we have $\mathrm{SL}_{2}(\mathbb{Z})_{\delta \tau}=\delta \mathrm{SL}_{2}(\mathbb{Z})_{\tau} \delta^{-1}$, and thus $\left|\mathrm{SL}_{2}(\mathbb{Z})_{\delta \tau}\right|=\left|\mathrm{SL}_{2}(\mathbb{Z})_{\tau}\right|$. 
            
        \end{enumerate}
    \end{remark}
Let us now calculate for a point $ \tau$ the stabilizer subgroup, $\mathrm{SL}_{2}(\mathbb{Z})_{\tau}$ and summarise the result in the following proposition.

\begin{proposition}
    $$
\left|\mathrm{SL}_{2}(\mathbb{Z})_{\tau}\right|= \begin{cases}4 & \text { if } \gamma(\tau)=i \text { for some } \gamma \in \mathrm{SL}_{2}(\mathbb{Z}) \\ 6 & \text { if } \gamma(\tau)=\omega \text { for some } \gamma \in \mathrm{SL}_{2}(\mathbb{Z}) \\ 2 & \text { otherwise }\end{cases}
$$
\begin{proof}

We can simplify our work by focusing on points within the fundamental domain \( \mathcal{F} \). Let's consider a point \( \tau \) in \( \mathcal{F} \). It's evident that the set \( \{I, -I\} \) is a subset of \( \mathrm{SL}_{2}(\mathbb{Z})_{\tau} \). Suppose there's another element \( \gamma_{0} \) in \( \Gamma \) that belongs to \( \mathrm{SL}_{2}(\mathbb{Z})_{\tau} \) but is not in \( \{I, -I\} \). This leads to the following equations:

\[
\gamma_{0}(\tau) = \tau \quad \implies \quad \frac{a\tau + b}{c\tau + d} = \tau \quad \implies \quad c\tau^2 + (d-a)\tau - b = 0.
\]

Assuming \( c = 0 \) leads to a contradiction. Either \( a = d \) or \( \tau = \frac{b}{d-a} \), but since \( \tau \in \mathcal{H} \), it is not a rational number, \( a = d \), and thus \( b = 0 \). Considering the determinant condition, \( ad = 1 \), we find that \( a = d = 1 \) or \( a = d = -1 \), contradicting \( \gamma_{0} \notin \{I, -I\} \). So, \( c \neq 0 \).

This leads us to:

\[
\tau = \frac{a - d \pm \sqrt{(a - d)^2 + 4bc}}{2c},
\]

and, taking the determinant into account:

\[
\tau = \frac{a - d \pm \sqrt{(a + d)^2 - 4}}{2c}.
\]

Given \( \tau \in \mathcal{H} \), we deduce:

\[
(a + d)^2 - 4 < 0 \quad \implies \quad a + d \in \{-1, 0, +1\}.
\]

We now consider the different cases for \( a + d \):

- Case 1 (\( a + d = 0 \)): We get \( \tau = \frac{a}{c} \pm \frac{i}{c} \). The condition \( \operatorname{Im}(\tau) \geq \frac{\sqrt{3}}{2} \) implies \( |c| = 1 \), leading to \( \tau = i \).
- Case 2 (\( a + d = \pm 1 \)): We find \( \tau = \frac{2a \pm 1}{2c} \pm \frac{\sqrt{3}}{2c}i \). The same condition on the imaginary part of \( \tau \) leads us to \( \tau = \pm \frac{1}{2} + \frac{\sqrt{3}}{2}i \).

For the stabilizer subgroup calculations, let's take \( \gamma \in \mathrm{SL}_{2}(\mathbb{Z})_{i} \) and not in \( \{I, -I\} \). Through similar reasoning, we find that \( \gamma \) must be in \( \{S, -S\} \). Hence,

\[
\mathrm{SL}_{2}(\mathbb{Z})_{i} = \{I, -I, S, -S\}.
\]

Similarly, for \( \mathrm{SL}_{2}(\mathbb{Z})_{\omega} \), considering \( \gamma \notin \{I, -I\} \), we explore the cases for \( a + d \) and deduce:

\[
\gamma \in \left\{\left[\begin{array}{cc}
0 & -1 \\
1 & 1
\end{array}\right], \left[\begin{array}{cc}
1 & 1 \\
-1 & 0
\end{array}\right], \left[\begin{array}{cc}
-1 & -1 \\
1 & 0
\end{array}\right], \left[\begin{array}{cc}
0 & 1 \\
-1 & -1
\end{array}\right]\right\}.
\]

Therefore,

\[
\mathrm{SL}_{2}(\mathbb{Z})_{\omega} = \{I, -I\} \cup \left\{\left[\begin{array}{cc}
0 & -1 \\
1 & 1
\end{array}\right], \left[\begin{array}{cc}
1 & 1 \\
-1 & 0
\end{array}\right], \left[\begin{array}{cc}
-1 & -1 \\
1 & 0
\end{array}\right], \left[\begin{array}{cc}
0 & 1 \\
-1 & -1
\end{array}\right]\right\}.
\]
\end{proof}
\end{proposition}


\begin{definition}
    Let $\Gamma$ be a subgroup of $\mathrm{SL}_{2}(\mathbb{Z})$. A point $\tau \in \mathcal{H}$ is an elliptic point if the stabiliser subgroup $\Gamma_{\tau}$ is non-trivial. That is, there exists $\gamma \in \Gamma_{\tau}$ such that $\gamma \notin\{I,-I\}$.
\end{definition}



\begin{proposition}\label{2.7.11}
      Let $\Gamma$ be a congruence subgroup of $\mathrm{SL}_{2}(\mathbf{Z})$. For each elliptic point $\tau$ of $\Gamma$ the isotropy subgroup $\Gamma_{\tau}$ is finite cyclic. Moreover, each point $\tau \in \mathcal{H}$ has an associated positive integer,

$$
h_{\tau}=\left|\{ \pm I\} \Gamma_{\tau} /\{ \pm I\}\right|= \begin{cases}\left|\Gamma_{\tau}\right| / 2 & \text { if }-I \in \Gamma_{\tau}, \\ \left|\Gamma_{\tau}\right| & \text { if }-I \notin \Gamma_{\tau} .\end{cases}
$$

\end{proposition}

\begin{proof}
  See, \cite{diamond2005first}, chapter 2. 
\end{proof}
\begin{remark}
    
\begin{enumerate}
    \item $h_{\tau}$ is called the period of $\tau$, with $h_{\tau}>1$ only for the elliptic points.
    \item If $\tau \in \mathcal{H}$ and $\gamma \in \mathrm{SL}_{2}(\mathbf{Z})$ then the period of $\gamma(\tau)$ under $\gamma \Gamma \gamma^{-1}$ is the same as the period of $\tau$ under $\Gamma$. In particular, $h_{\tau}$ depends only on $\Gamma \tau$, making the period well defined on $Y(\Gamma)$, and if $\Gamma$ is normal in $\mathrm{SL}_{2}(\mathbf{Z})$ then all points of $Y(\Gamma)$ over a point of $Y\left(\mathrm{SL}_{2}(\mathbf{Z})\right)$ have the same period.
    \item   The space $Y(\Gamma)$ depends on $\Gamma$ as a group of transformations acting on $\mathcal{H}$, and $-I$ acts trivially, so defining the period as we did rather than simply taking $h_{\tau}=\left|\Gamma_{\tau}\right|$ is natural. The definition correctly counts the $\tau$-fixing transformations.
\end{enumerate}
\end{remark}

\subsection{The Genus: An application}

In this short section, we will discuss a short application of some of the theory introduced and some we will introduce along the way. \\

In particular, we choose a particular curve $X_0(38)$ curve\hyperlink{https://beta.lmfdb.org/ModularCurve/Q/38.60.4.a.1/}{$X_0(38)$} using the material we have covered up so far.  
\\

As with every geometric object, our first attempt will be about understanding the genus of the Modular curve $X_0(38)$. The usual method in Algebraic geometry is to use Riemann-Hurwitz formula. 

Let us first setup some background with notations. \\

Let's consider a congruence subgroup \( \Gamma \) of \( \mathrm{SL}_{2}(\mathbf{Z}) \). In chapter 4, we will see that we get a compact Riemann surface, \( X(\Gamma) = \Gamma \backslash \mathcal{H}^{*} \). Topologically, it can be visualized as a sphere with a certain number of handles, say \( g \), where \( g \) represents the genus of \( X(\Gamma) \). \\

Consider a map \( f: X \rightarrow Y \) between two compact Riemann surfaces, where \( f \) is holomorphic and not constant. Such a map \( f \) is surjective. This map \( f \) is characterized by a well-defined degree \( d \), a positive integer, satisfying \( |f^{-1}(y)| = d \) for almost all points \( y \) in \( Y \). For any point \( x \) in \( X \), let's denote \( e_{x} \), a positive integer, as the degree of ramification of \( f \) at \( x \). Intuitively, this just means the multiplicity with which $f$ takes 0 to 0 in local co-ordinates. \\


It can be observed that the $f$ is unramified at all but finitely many points in $X$. Let us thus define the exceptional set \( \mathcal{E} \) in \( X \) as those points where \( f \) ramifies. Then, by removing these exceptional points from \( X \) and their images from \( Y \), we get two Riemann surfaces, \( X' \) and \( Y' \), respectively. Choosing any point \( y \) in \( Y' \), we can find neighborhoods around each pre-image of \( y \) in \( X' \) where \( f \) acts as a local bijection. The integer-valued function \( y \mapsto |f^{-1}(y)| \) on \( Y' \) turns out to be constant due to the connectedness of \( Y' \). Let \( d \) be the value of this constant, leading to the previously mentioned sum equation for all \( y \) in \( Y' \), and by continuity, this extends to all of \( Y \).
In summary, we have that, there exists a positive integer \( d \) such that:

\[
\sum_{x \in f^{-1}(y)} e_{x} = d \quad \text{for all} \quad y \in Y
\]

Revisiting the map \( f: X \rightarrow Y \) of degree \( d \) between two compact Riemann surfaces, we denote the genera of \( X \) and \( Y \) by \( g_{X} \) and \( g_{Y} \), respectively. To find the genus of \( X(\Gamma) \), the Riemann-Hurwitz formula comes into play:

\[
2 g_{X} - 2 = d(2 g_{Y} - 2) + \sum_{x \in X}(e_{x} - 1)
\]

As stated earlier, our first goal is to compute the genus of $X(\Gamma).$ Let us consider \( \Gamma_{1} \) as \( \Gamma \) and \( \Gamma_{2} \) as \( \mathrm{SL}_{2}(\mathbf{Z}) \). Define the points \( y_{2} \) as the image of \( i \) under \( \mathrm{SL}_{2}(\mathbf{Z}) \), \( y_{3} \) as the image of \( \mu_{3} \) (representing an elliptic point of period 3), and \( y_{\infty} \) as the image of infinity, being the cusp of \( X(1) = \mathrm{SL}_{2}(\mathbf{Z}) \backslash \mathcal{H}^{*} \). \\

Let's denote by \( \varepsilon_{2} \) and \( \varepsilon_{3} \) the number of elliptic points in \( X(\Gamma) \) that map to \( y_{2} \) and \( y_{3} \) respectively under a projection \( f \), and \( \varepsilon_{\infty} \) the count of cusps in \( X(\Gamma) \). Furthermore for $h=2,3$ we have, 
\[
\sum_{x \in f^{-1}(y_{h})}(e_{x} - 1) = (h - 1)(|f^{-1}(y_{h})| - \varepsilon_{h}) = \frac{h - 1}{h}(d - \varepsilon_{h}).
\]

Similarly, we find that:

\[
\sum_{x \in f^{-1}(y_{\infty})}(e_{x} - 1) = d - \varepsilon_{\infty}.
\]

Since \( X(1) \) is of genus 0, the Riemann-Hurwitz formula yields the following theorem:

\begin{theorem}
    Given \( \Gamma \) as a congruence subgroup of \( \mathrm{SL}_{2}(\mathbf{Z}) \) and \( f: X(\Gamma) \rightarrow X(1) \) as the natural projection with degree \( d \), and denoting \( \varepsilon_{2} \), \( \varepsilon_{3} \), and \( \varepsilon_{\infty} \) as the respective number of elliptic points of periods 2 and 3, and cusps in \( X(\Gamma) \), the genus of \( X(\Gamma) \) is determined by:

\[
g = 1 + \frac{d}{12} - \frac{\varepsilon_{2}}{4} - \frac{\varepsilon_{3}}{3} - \frac{\varepsilon_{\infty}}{2}.
\]

\end{theorem}
\begin{proof} Let $g$ denote the genus of the curve $X(\Gamma)$.\\ 
Let us first note a couple of things. \\

1. The genus of the curve $X(1)$ is 0. \\
2. $f$ is unramified at all but finitely many points and thus, $e_x-1=0$ for all but exceptional points of $X(\Gamma)$. \\

Consequently, the Riemann-Hurwitz formula reduces to, 

\[
2 g_{X} - 2 = -2d + \sum_{x \in \mathcal{E}}(e_{x} - 1)
\]

As the execeptional points are split up in 3 categories, namely pre-images of elliptic points and cusps for $X(1)$, we can rewrite Riemann-Hurwitz formula as,

\[
2 g_{X} - 2 = -2d + \sum_{x \in f^{-1}(y_{2})}(e_{x} - 1) + \sum_{x \in f^{-1}(y_{3})}(e_{x} - 1) + \sum_{x \in f^{-1}(y_{\infty})}(e_{x} - 1).
\]

Using the expressions stated above, we have that, 

\[
2 g_{X} - 2 = -2d + \frac{2 - 1}{2}(d - \varepsilon_{2})+ \frac{3 - 1}{3}(d - \varepsilon_{3}) + d-\varepsilon_\infty .
\]

Simplifying we have,

\[
2 g_{X} - 2 = -2d + \frac{1}{2}(d - \varepsilon_{2})+ \frac{2}{3}(d - \varepsilon_{3}) + d-\varepsilon_\infty .
\]

The claim follows by further simplifying and rearranging the terms. 

\end{proof}

Thus, what comes out as a conclusion, is that for us to find the genus of the Modular curve $X=X_0(38)$, we must find:

1. $d$: The degree of the projection map from the Modular curve $X$ onto $X(1)$.\\
2: $\varepsilon_2$: The number of elliptic points of period 2.\\
3. $\varepsilon_3$: The number of elliptic points of period 3.\\
4. $\varepsilon_\infty$: The number of cusps of $X$.

\begin{theorem}
     The period 2 elliptic points of $\Gamma_{0}(N)$ are in bijective correspondence with the ideals $J$ of $\mathbf{Z}[i]$ such that $\mathbf{Z}[i] / J \cong \mathbf{Z} / N \mathbf{Z}$. The period 3 elliptic points of $\Gamma_{0}(N)$ are in bijective correspondence with the ideals $J$ of $\mathbf{Z}\left[\mu_{6}\right]$ (where $\mu_{6}=e^{2 \pi i / 6}$ ) such that $\mathbf{Z}\left[\mu_{6}\right] / J \cong \mathbf{Z} / N \mathbf{Z}$.\\

     Consequently, counting the ideals we have the number of elliptic points for $\Gamma_{0}(N)$ given by 

$$
\varepsilon_{2}\left(\Gamma_{0}(N)\right)= \begin{cases}\prod_{p \mid N}\left(1+\left(\frac{-1}{p}\right)\right) & \text { if } 4 \nmid N \\ 0 & \text { if } 4 \mid N\end{cases}
$$

where $(-1 / p)$ is $\pm 1$ if $p \equiv \pm 1(\bmod 4)$ and is 0 if $p=2$, and

$$
\varepsilon_{3}\left(\Gamma_{0}(N)\right)= \begin{cases}\prod_{p \mid N}\left(1+\left(\frac{-3}{p}\right)\right) & \text { if } 9 \nmid N, \\ 0 & \text { if } 9 \mid N,\end{cases}
$$

where $(-3 / p)$ is $\pm 1$ if ,  $p \equiv \pm 1(\bmod 3)$ and is 0 if $p=3$.


\end{theorem}

\begin{proof}
    See, \cite{diamond2005first} Proposition 3.7.1.
\end{proof}
\begin{corollary}

For the modular curve $X=X_0(38)$, we have $\varepsilon_2=\varepsilon_3=0.$
    \begin{proof}
    From the formula, we have that $$
\varepsilon_{2}\left(\Gamma_{0}(38)\right)= \begin{cases}\prod_{p \mid 38}\left(1+\left(\frac{-1}{p}\right)\right) & \text { if } 4 \nmid N \\ 0 & \text { if } 4 \mid N\end{cases}
$$ Note that, $19 \equiv -1 (\text{mod} 4)$ and thus $1+(\frac{-1}{19})=0$. Since $19 \mid 38$, we have that $\varepsilon_2=0$. \\

Similarly, $2 \equiv -1 (\text{mod} 3)$ and $2 \mid 38$. Thus, the claim follows. 
    \end{proof}
\end{corollary}

Next, we compute, the degree of the projection map from $X$ to $X(1)$.  \\

Since $-I \in \mathrm{SL}_{2}(\mathbf{Z})$ and $-I \in \Gamma(N)$ only for $N=2$.Since $\left[\mathrm{SL}_{2}(\mathbf{Z}): \Gamma(N)\right]=N^{3} \prod_{p \mid N}\left(1-1 / p^{2}\right)$, the projection of modular curves $X(N) \longrightarrow X(1)$ has degree

$$
d_{N}=\left[\mathrm{SL}_{2}(\mathbf{Z}):\{ \pm I\} \Gamma(N)\right]= \begin{cases}(1 / 2) N^{3} \prod_{p \mid N}\left(1-1 / p^{2}\right) & \text { if } N>2 \\ 6 & \text { if } N=2\end{cases}
$$


In particular, for discussing the subgroup \( \Gamma_{0}(N) \), let us consider without loss of generality that $N>2$.This is because for \( N = 2 \), the group \( \Gamma_{0}(2) \) is essentially the same as \( \Gamma_{1}(2) \). \\
The negative identity matrix, denoted as \( -I \) is not contained in \( \Gamma_{0}(N) \), although it is included in \( \mathrm{SL}_{2}(\mathbf{Z}) \). Given the index relation \( [\Gamma_{0}(N): \Gamma_{1}(N)] = \phi(N) \), where \( \phi \) represents Euler's totient function, it follows that the projection from the modular curve \( X_{0}(N) \) to \( X(1) \) has a specific degree. Specifically, for \( N \) exceeding 2, this degree is given by:

\[
d(\Gamma_{0}(N)) = \frac{2d_{N}}{N \phi(N)} \quad \text{for} \quad N > 2
\]

Thus, for $N=38$, degree $d=60$, after substituting $N=38$ in above formulas.\\

All that remains is to compute the number of cusps.

In general, we have that the number of cusps of $\Gamma_{0}(N)$ is
given by, 
$$
\varepsilon_{\infty}\left(\Gamma_{0}(N)\right)=\sum_{d \mid N} \phi(\operatorname{gcd}(d, N / d)).
$$
Thus, for $N=38$, degree $\varepsilon_\infty=4$, after substituting $N=38$ in above formula.\\

Thus, putting everything together, we have that the genus of the Modular curve $X_0(38)$ is given by

\[
g = 1 + \frac{60}{12} - \frac{0}{4} - \frac{0}{3} - \frac{4}{2}.
\]
Thus, $g=1+5-2$, That is $g=4.$

